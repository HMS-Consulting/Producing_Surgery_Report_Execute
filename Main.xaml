<Activity mc:Ignorable="sap sap2010" x:Class="Main" this:Main.in_str_BusinessProcessName="CreateSurgeryReport" this:Main.in_str_BusinessDepartmentName="Wolfson" this:Main.in_int_MaxTransactionToHandle="2" this:Main.in_str_QueueName="SurgeryReport" this:Main.in_str_OrchestrartorMainFolderName="Root" this:Main.in_boo_CheckUrgentJob="True" this:Main.in_str_GeneralFolderName=".General" this:Main.in_boo_GlobalErrorCheck="True" this:Main.in_int_MaxTransactionWithSysExcpInA_Row="3" xmlns="http://schemas.microsoft.com/netfx/2009/xaml/activities" xmlns:av="http://schemas.microsoft.com/winfx/2006/xaml/presentation" xmlns:h="clr-namespace:HmsTeam_Framework_Activities;assembly=HmsTeam.Framework.Activities" xmlns:hg="clr-namespace:HmsTeam_OrchestratorAPI_Activities.Get;assembly=HmsTeam.OrchestratorAPI.Activities" xmlns:hm="clr-namespace:HMS.Modeling;assembly=HmsTeam.UiPath.Shared" xmlns:hs="clr-namespace:HmsTeam_OrchestratorAPI_Activities.Special;assembly=HmsTeam.OrchestratorAPI.Activities" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" xmlns:mva="clr-namespace:Microsoft.VisualBasic.Activities;assembly=System.Activities" xmlns:njl="clr-namespace:Newtonsoft.Json.Linq;assembly=Newtonsoft.Json" xmlns:s="clr-namespace:System;assembly=mscorlib" xmlns:sap="http://schemas.microsoft.com/netfx/2009/xaml/activities/presentation" xmlns:sap2010="http://schemas.microsoft.com/netfx/2010/xaml/activities/presentation" xmlns:scg="clr-namespace:System.Collections.Generic;assembly=mscorlib" xmlns:sd="clr-namespace:System.Data;assembly=System.Data" xmlns:this="clr-namespace:" xmlns:ui="http://schemas.uipath.com/workflow/activities" xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">
  <x:Members>
    <x:Property Name="in_str_BusinessProcessName" Type="InArgument(x:String)" />
    <x:Property Name="in_str_BusinessDepartmentName" Type="InArgument(x:String)" />
    <x:Property Name="out_list_JobSystemExceptions" Type="OutArgument(scg:List(s:Exception))" />
    <x:Property sap2010:Annotation.AnnotationText="0 means no limit" Name="in_int_MaxTransactionToHandle" Type="InArgument(x:Int32)" />
    <x:Property Name="out_list_JobBusinessExceptions" Type="OutArgument(scg:List(ui:BusinessRuleException))" />
    <x:Property Name="in_str_QueueName" Type="InArgument(x:String)" />
    <x:Property sap2010:Annotation.AnnotationText="In case the queue is located in folder that is not the business process folder" Name="in_str_CustomOrchestratorQueueFolderPath" Type="InArgument(x:String)" />
    <x:Property Name="in_ProcessSetup" Type="InArgument(hm:ProcessSetup)" />
    <x:Property sap2010:Annotation.AnnotationText="In order to export transaction piece of information into Analytics Data, insert the key from the dictionary into that array. For example: {&quot;FirstName&quot;,&quot;LastName&quot;}&#xA;Please note that for now, value types different from string/number/boolean will not go to analytics." Name="in_arr_str_TransactionKeysForAnalytics" Type="InArgument(s:String[])" />
    <x:Property Name="in_str_OrchestrartorMainFolderName" Type="InArgument(x:String)" />
    <x:Property Name="in_boo_CheckUrgentJob" Type="InArgument(x:Boolean)" />
    <x:Property Name="in_str_GeneralFolderName" Type="InArgument(x:String)" />
    <x:Property sap2010:Annotation.AnnotationText="For Example: {({&quot;16:00&quot;,&quot;19:00&quot;}),({&quot;23:00&quot;,&quot;23:59&quot;})}" Name="in_arr_arr_str_ProjectDownTimes_Weekday" Type="InArgument(s:String[][])" />
    <x:Property sap2010:Annotation.AnnotationText="For Example: {({&quot;16:00&quot;,&quot;19:00&quot;}),({&quot;23:00&quot;,&quot;23:59&quot;})}" Name="in_arr_arr_str_ProjectDownTimes_Friday" Type="InArgument(s:String[][])" />
    <x:Property sap2010:Annotation.AnnotationText="For Example: {({&quot;16:00&quot;,&quot;19:00&quot;}),({&quot;23:00&quot;,&quot;23:59&quot;})}" Name="in_arr_arr_str_ProjectDownTimes_Saturday" Type="InArgument(s:String[][])" />
    <x:Property sap2010:Annotation.AnnotationText="For Example: {({&quot;13/08/2021&quot;,&quot;16:00&quot;,&quot;19:00&quot;}),({&quot;20/01/2021&quot;,&quot;23:00&quot;,&quot;23:59&quot;})}" Name="in_arr_arr_str_ProjectDownTimes_Specific" Type="InArgument(s:String[][])" />
    <x:Property Name="in_arr_str_InvolvedApps" Type="InArgument(s:String[])" />
    <x:Property sap2010:Annotation.AnnotationText="If you put a path here, it will be used instead of the general asset" Name="in_str_CustomMainRPA_FolderPath" Type="InArgument(x:String)" />
    <x:Property Name="in_boo_GlobalErrorCheck" Type="InArgument(x:Boolean)" />
    <x:Property sap2010:Annotation.AnnotationText="put 0 for no limit" Name="in_int_MaxTransactionWithSysExcpInA_Row" Type="InArgument(x:Int32)" />
  </x:Members>
  <this:Main.in_ProcessSetup>
    <InArgument x:TypeArguments="hm:ProcessSetup" />
  </this:Main.in_ProcessSetup>
  <this:Main.in_str_CustomMainRPA_FolderPath>
    <InArgument x:TypeArguments="x:String" />
  </this:Main.in_str_CustomMainRPA_FolderPath>
  <mva:VisualBasic.Settings>
    <x:Null />
  </mva:VisualBasic.Settings>
  <sap:VirtualizedContainerService.HintSize>1152,827</sap:VirtualizedContainerService.HintSize>
  <sap2010:WorkflowViewState.IdRef>Main2_1</sap2010:WorkflowViewState.IdRef>
  <TextExpression.NamespacesForImplementation>
    <scg:List x:TypeArguments="x:String" Capacity="120">
      <x:String>System.Activities</x:String>
      <x:String>System.Activities.Statements</x:String>
      <x:String>System.Activities.Expressions</x:String>
      <x:String>System.Activities.Validation</x:String>
      <x:String>System.Activities.XamlIntegration</x:String>
      <x:String>Microsoft.VisualBasic</x:String>
      <x:String>Microsoft.VisualBasic.Activities</x:String>
      <x:String>System</x:String>
      <x:String>System.Collections</x:String>
      <x:String>System.Collections.Generic</x:String>
      <x:String>System.Data</x:String>
      <x:String>System.Diagnostics</x:String>
      <x:String>System.Drawing</x:String>
      <x:String>System.IO</x:String>
      <x:String>System.Linq</x:String>
      <x:String>System.Net.Mail</x:String>
      <x:String>System.Xml</x:String>
      <x:String>System.Xml.Linq</x:String>
      <x:String>System.Windows.Markup</x:String>
      <x:String>UiPath.Core</x:String>
      <x:String>UiPath.Core.Activities</x:String>
      <x:String>System.Activities.DynamicUpdate</x:String>
      <x:String>System.Runtime.Serialization</x:String>
      <x:String>System.Runtime.InteropServices</x:String>
      <x:String>UiPath.UIAutomationNext.Enums</x:String>
      <x:String>UiPath.UIAutomationNext.Activities</x:String>
      <x:String>UiPath.Shared.Activities</x:String>
      <x:String>System.ComponentModel</x:String>
      <x:String>System.Xml.Serialization</x:String>
      <x:String>UiPath.Excel</x:String>
      <x:String>UiPath.Excel.Activities</x:String>
      <x:String>Microsoft.VisualBasic.CompilerServices</x:String>
      <x:String>UiPath.Core.Activities.Orchestrator</x:String>
      <x:String>System.Security</x:String>
      <x:String>System.Net</x:String>
      <x:String>System.Collections.ObjectModel</x:String>
      <x:String>UiPath.Platform.Triggers</x:String>
      <x:String>UiPath.Platform.Triggers.Scope</x:String>
      <x:String>Newtonsoft.Json.Linq</x:String>
      <x:String>Newtonsoft.Json</x:String>
      <x:String>System.Dynamic</x:String>
      <x:String>System.Collections.Specialized</x:String>
      <x:String>Microsoft.Activities.Extensions.Statements</x:String>
      <x:String>System.Reflection</x:String>
      <x:String>UiPath.Web</x:String>
      <x:String>UiPath.Web.Activities</x:String>
      <x:String>HmsTeam_Files_Activities</x:String>
      <x:String>UiPath.Core.Activities.Storage</x:String>
      <x:String>HmsTeam_General_Activities</x:String>
      <x:String>HMS.Modeling</x:String>
      <x:String>HmsTeam_Framework_Activities</x:String>
      <x:String>HmsTeam_OrchestratorAPI_Activities.Get</x:String>
      <x:String>System.Management.Automation</x:String>
      <x:String>Microsoft.Vbe.Interop</x:String>
      <x:String>Microsoft.Office.Interop.Excel</x:String>
      <x:String>HmsTeam_OrchestratorAPI_Activities.Special</x:String>
      <x:String>HmsTeam_DataTable_Activities</x:String>
      <x:String>System.Text.RegularExpressions</x:String>
      <x:String>HmsTeam_OrchestratorAPI_Activities.Create_Add</x:String>
      <x:String>System.Text</x:String>
      <x:String>HMS.Excel.CustomActivities</x:String>
      <x:String>UiPath.Activities.Contracts</x:String>
      <x:String>HMS.OrchestratorAPI.Special</x:String>
    </scg:List>
  </TextExpression.NamespacesForImplementation>
  <TextExpression.ReferencesForImplementation>
    <scg:List x:TypeArguments="AssemblyReference" Capacity="90">
      <AssemblyReference>System.Activities</AssemblyReference>
      <AssemblyReference>System</AssemblyReference>
      <AssemblyReference>Microsoft.VisualBasic</AssemblyReference>
      <AssemblyReference>mscorlib</AssemblyReference>
      <AssemblyReference>System.Core</AssemblyReference>
      <AssemblyReference>System.ValueTuple</AssemblyReference>
      <AssemblyReference>System.Memory</AssemblyReference>
      <AssemblyReference>System.ServiceModel</AssemblyReference>
      <AssemblyReference>UiPath.System.Activities</AssemblyReference>
      <AssemblyReference>UiPath.OCR.Activities.Design</AssemblyReference>
      <AssemblyReference>UiPath.Mail</AssemblyReference>
      <AssemblyReference>UiPath.Excel</AssemblyReference>
      <AssemblyReference>Microsoft.Bcl.AsyncInterfaces</AssemblyReference>
      <AssemblyReference>UiPath.UIAutomationCore</AssemblyReference>
      <AssemblyReference>System.ComponentModel.Composition</AssemblyReference>
      <AssemblyReference>System.Data</AssemblyReference>
      <AssemblyReference>System.Data.DataSetExtensions</AssemblyReference>
      <AssemblyReference>WindowsBase</AssemblyReference>
      <AssemblyReference>System.Drawing</AssemblyReference>
      <AssemblyReference>System.Xml</AssemblyReference>
      <AssemblyReference>System.Xml.Linq</AssemblyReference>
      <AssemblyReference>System.Xaml</AssemblyReference>
      <AssemblyReference>PresentationCore</AssemblyReference>
      <AssemblyReference>PresentationFramework</AssemblyReference>
      <AssemblyReference>UiPath.UiAutomation.Activities</AssemblyReference>
      <AssemblyReference>UiPath.System.Activities.Design</AssemblyReference>
      <AssemblyReference>UiPath.UIAutomationNext</AssemblyReference>
      <AssemblyReference>UiPath.UIAutomationNext.Activities</AssemblyReference>
      <AssemblyReference>UiPath.OCR.Activities</AssemblyReference>
      <AssemblyReference>UiPath.Mail.Activities</AssemblyReference>
      <AssemblyReference>UiPath.Excel.Activities</AssemblyReference>
      <AssemblyReference>UiPath.Platform</AssemblyReference>
      <AssemblyReference>Newtonsoft.Json</AssemblyReference>
      <AssemblyReference>Microsoft.Activities.Extensions</AssemblyReference>
      <AssemblyReference>UiPath.Web</AssemblyReference>
      <AssemblyReference>UiPath.Web.Activities</AssemblyReference>
      <AssemblyReference>HmsTeam.Files.Activities</AssemblyReference>
      <AssemblyReference>HmsTeam.General.Activities</AssemblyReference>
      <AssemblyReference>HmsTeam.UiPath.Shared</AssemblyReference>
      <AssemblyReference>HmsTeam.Framework.Activities</AssemblyReference>
      <AssemblyReference>HmsTeam.OrchestratorAPI.Activities</AssemblyReference>
      <AssemblyReference>System.Management.Automation</AssemblyReference>
      <AssemblyReference>HmsTeam.DataTable.Activities</AssemblyReference>
      <AssemblyReference>HmsTeam.Excel</AssemblyReference>
      <AssemblyReference>UiPath.Activities.Contracts</AssemblyReference>
      <AssemblyReference>Microsoft.Vbe.Interop</AssemblyReference>
      <AssemblyReference>System.Collections.Immutable</AssemblyReference>
    </scg:List>
  </TextExpression.ReferencesForImplementation>
  <StateMachine InitialState="{x:Reference __ReferenceID53}" DisplayName="Main" sap:VirtualizedContainerService.HintSize="1162,703" sap2010:WorkflowViewState.IdRef="StateMachine_1">
    <sap:WorkflowViewStateService.ViewState>
      <scg:Dictionary x:TypeArguments="x:String, x:Object">
        <x:Boolean x:Key="IsExpanded">True</x:Boolean>
        <av:Point x:Key="ShapeLocation">20,2.6666666666667</av:Point>
        <x:Double x:Key="StateContainerWidth">1127.8857142857146</x:Double>
        <x:Double x:Key="StateContainerHeight">666.8</x:Double>
        <av:PointCollection x:Key="ConnectorLocation">80,47.7866666666667 336,47.7866666666667 336,56.8</av:PointCollection>
      </scg:Dictionary>
    </sap:WorkflowViewStateService.ViewState>
    <State x:Name="__ReferenceID53" sap2010:Annotation.AnnotationText="Common actions in the beginning of every job + custom actions" DisplayName="State_BeginningActions" sap:VirtualizedContainerService.HintSize="219,120" sap2010:WorkflowViewState.IdRef="State_1">
      <State.Entry>
        <TryCatch DisplayName="Try_BeginningActions" sap:VirtualizedContainerService.HintSize="860.8,3253.6" sap2010:WorkflowViewState.IdRef="TryCatch_4">
          <sap:WorkflowViewStateService.ViewState>
            <scg:Dictionary x:TypeArguments="x:String, x:Object">
              <x:Boolean x:Key="IsExpanded">True</x:Boolean>
              <x:Boolean x:Key="IsPinned">False</x:Boolean>
            </scg:Dictionary>
          </sap:WorkflowViewStateService.ViewState>
          <TryCatch.Try>
            <Sequence DisplayName="Seq_BeginningActions" sap:VirtualizedContainerService.HintSize="824,3022.4" sap2010:WorkflowViewState.IdRef="Sequence_115">
              <sap:WorkflowViewStateService.ViewState>
                <scg:Dictionary x:TypeArguments="x:String, x:Object">
                  <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                  <x:Boolean x:Key="IsPinned">False</x:Boolean>
                </scg:Dictionary>
              </sap:WorkflowViewStateService.ViewState>
              <Assign sap:VirtualizedContainerService.HintSize="782.4,60" sap2010:WorkflowViewState.IdRef="Assign_178">
                <Assign.To>
                  <OutArgument x:TypeArguments="scg:List(s:Exception)">[out_list_JobSystemExceptions]</OutArgument>
                </Assign.To>
                <Assign.Value>
                  <InArgument x:TypeArguments="scg:List(s:Exception)">[New List(Of system.Exception)]</InArgument>
                </Assign.Value>
              </Assign>
              <Assign sap:VirtualizedContainerService.HintSize="782.4,60" sap2010:WorkflowViewState.IdRef="Assign_179">
                <Assign.To>
                  <OutArgument x:TypeArguments="scg:List(ui:BusinessRuleException)">[out_list_JobBusinessExceptions]</OutArgument>
                </Assign.To>
                <Assign.Value>
                  <InArgument x:TypeArguments="scg:List(ui:BusinessRuleException)">[New List(Of BusinessRuleException)]</InArgument>
                </Assign.Value>
              </Assign>
              <If Condition="[String.IsNullOrEmpty(in_str_QueueName)]" DisplayName="If queueName argument is empty" sap:VirtualizedContainerService.HintSize="782.4,52.8" sap2010:WorkflowViewState.IdRef="If_27">
                <sap:WorkflowViewStateService.ViewState>
                  <scg:Dictionary x:TypeArguments="x:String, x:Object">
                    <x:Boolean x:Key="IsExpanded">False</x:Boolean>
                    <x:Boolean x:Key="IsPinned">False</x:Boolean>
                  </scg:Dictionary>
                </sap:WorkflowViewStateService.ViewState>
                <If.Then>
                  <Throw Exception="[New System.Exception(&quot;You have to fill queueName argument&quot;)]" sap:VirtualizedContainerService.HintSize="200,22.4" sap2010:WorkflowViewState.IdRef="Throw_3" />
                </If.Then>
              </If>
              <If Condition="[in_ProcessSetup is Nothing]" DisplayName="If processSetup is nothing" sap:VirtualizedContainerService.HintSize="782.4,738.4" sap2010:WorkflowViewState.IdRef="If_20">
                <sap:WorkflowViewStateService.ViewState>
                  <scg:Dictionary x:TypeArguments="x:String, x:Object">
                    <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                    <x:Boolean x:Key="IsPinned">False</x:Boolean>
                  </scg:Dictionary>
                </sap:WorkflowViewStateService.ViewState>
                <If.Then>
                  <Sequence DisplayName="Seq_Common BeginningActions" sap:VirtualizedContainerService.HintSize="472,549.6" sap2010:WorkflowViewState.IdRef="Sequence_52">
                    <sap:WorkflowViewStateService.ViewState>
                      <scg:Dictionary x:TypeArguments="x:String, x:Object">
                        <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                        <x:Boolean x:Key="IsPinned">False</x:Boolean>
                      </scg:Dictionary>
                    </sap:WorkflowViewStateService.ViewState>
                    <Assign DisplayName="Assign NewProcessSetup" sap:VirtualizedContainerService.HintSize="430.4,60" sap2010:WorkflowViewState.IdRef="Assign_160">
                      <Assign.To>
                        <OutArgument x:TypeArguments="hm:ProcessSetup">[in_ProcessSetup]</OutArgument>
                      </Assign.To>
                      <Assign.Value>
                        <InArgument x:TypeArguments="hm:ProcessSetup">[New ProcessSetup]</InArgument>
                      </Assign.Value>
                    </Assign>
                    <ui:DeserializeJson x:TypeArguments="njl:JObject" DisplayName="Deserialize Project JSON" sap:VirtualizedContainerService.HintSize="430.4,60" sap2010:WorkflowViewState.IdRef="DeserializeJson`1_1" JsonObject="[in_ProcessSetup.Project.Json]" JsonString="[File.ReadAllText(&quot;Project.JSON&quot;)]" />
                    <ui:AddLogFields DisplayName="Add Log Fields" sap:VirtualizedContainerService.HintSize="430.4,22.4" sap2010:WorkflowViewState.IdRef="AddLogFields_2">
                      <ui:AddLogFields.Fields>
                        <InArgument x:TypeArguments="x:String" x:Key="BusinessDepartment">[in_str_BusinessDepartmentName]</InArgument>
                        <InArgument x:TypeArguments="x:String" x:Key="BusinessProcess">[in_str_BusinessProcessName]</InArgument>
                        <InArgument x:TypeArguments="x:String" x:Key="QueueName">[in_str_QueueName]</InArgument>
                        <InArgument x:TypeArguments="x:String" x:Key="CustomOrchestratorQueueFolderPath">[in_str_CustomOrchestratorQueueFolderPath]</InArgument>
                      </ui:AddLogFields.Fields>
                    </ui:AddLogFields>
                    <ui:MultipleAssign DisplayName="Multiple Assign" sap:VirtualizedContainerService.HintSize="430.4,194.4" sap2010:WorkflowViewState.IdRef="MultipleAssign_7">
                      <ui:MultipleAssign.AssignOperations>
                        <scg:List x:TypeArguments="ui:AssignOperation" Capacity="4">
                          <ui:AssignOperation sap2010:WorkflowViewState.IdRef="AssignOperation_23">
                            <ui:AssignOperation.To>
                              <OutArgument x:TypeArguments="x:String">[in_ProcessSetup.Job.QueueName]</OutArgument>
                            </ui:AssignOperation.To>
                            <ui:AssignOperation.Value>
                              <InArgument x:TypeArguments="x:String">[in_str_QueueName]</InArgument>
                            </ui:AssignOperation.Value>
                          </ui:AssignOperation>
                          <ui:AssignOperation sap2010:WorkflowViewState.IdRef="AssignOperation_24">
                            <ui:AssignOperation.To>
                              <OutArgument x:TypeArguments="x:Object">[in_ProcessSetup.Job.CustomData("QueueName")]</OutArgument>
                            </ui:AssignOperation.To>
                            <ui:AssignOperation.Value>
                              <InArgument x:TypeArguments="x:Object">[in_str_QueueName]</InArgument>
                            </ui:AssignOperation.Value>
                          </ui:AssignOperation>
                          <ui:AssignOperation sap2010:WorkflowViewState.IdRef="AssignOperation_26">
                            <ui:AssignOperation.To>
                              <OutArgument x:TypeArguments="x:Object">[in_ProcessSetup.Job.CustomData("TransactionIDs")]</OutArgument>
                            </ui:AssignOperation.To>
                            <ui:AssignOperation.Value>
                              <InArgument x:TypeArguments="x:Object">[new List(Of Int64)]</InArgument>
                            </ui:AssignOperation.Value>
                          </ui:AssignOperation>
                          <ui:AssignOperation sap2010:WorkflowViewState.IdRef="AssignOperation_35">
                            <ui:AssignOperation.To>
                              <OutArgument x:TypeArguments="scg:List(x:Int64)">[in_ProcessSetup.Job.TransactionIDs]</OutArgument>
                            </ui:AssignOperation.To>
                            <ui:AssignOperation.Value>
                              <InArgument x:TypeArguments="scg:List(x:Int64)">[new List(Of Int64)]</InArgument>
                            </ui:AssignOperation.Value>
                          </ui:AssignOperation>
                        </scg:List>
                      </ui:MultipleAssign.AssignOperations>
                    </ui:MultipleAssign>
                  </Sequence>
                </If.Then>
              </If>
              <h:Beginning_Actions___New DisplayName="Beginning Actions - New" sap:VirtualizedContainerService.HintSize="782.4,241.6" sap2010:WorkflowViewState.IdRef="Beginning_Actions___New_1" in_OrcehstartorMainFolderName="[in_str_OrchestrartorMainFolderName]" in_arr_arr_str_ProjectDownTimes_Friday="[in_arr_arr_str_ProjectDownTimes_Friday]" in_arr_arr_str_ProjectDownTimes_Saturday="[in_arr_arr_str_ProjectDownTimes_Saturday]" in_arr_arr_str_ProjectDownTimes_Specific="[in_arr_arr_str_ProjectDownTimes_Specific]" in_arr_arr_str_ProjectDownTimes_Weekday="[in_arr_arr_str_ProjectDownTimes_Weekday]" in_arr_str_InvolvedApps="[in_arr_str_InvolvedApps]" in_str_BusinessDepartmentName="[in_str_BusinessDepartmentName]" in_str_BusinessProcessName="[in_str_BusinessProcessName]" in_str_CustomMainRPA_FolderPath="[in_str_CustomMainRPA_FolderPath]" in_str_GeneralFolderName="[in_str_GeneralFolderName]" io_ProcessSetup="[in_ProcessSetup]" />
              <ui:CommentOut sap2010:Annotation.AnnotationText="Elbit" DisplayName="Comment Out" sap:VirtualizedContainerService.HintSize="782.4,551.2" sap2010:WorkflowViewState.IdRef="CommentOut_9">
                <ui:CommentOut.Body>
                  <Sequence DisplayName="Ignored Activities" sap:VirtualizedContainerService.HintSize="324.8,441.6" sap2010:WorkflowViewState.IdRef="Sequence_215">
                    <sap:WorkflowViewStateService.ViewState>
                      <scg:Dictionary x:TypeArguments="x:String, x:Object">
                        <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                      </scg:Dictionary>
                    </sap:WorkflowViewStateService.ViewState>
                    <h:Beginning_Actions_Elb___New DisplayName="Beginning Actions Elb - New" sap:VirtualizedContainerService.HintSize="283.2,348.8" sap2010:WorkflowViewState.IdRef="Beginning_Actions_Elb___New_1" in_OrcehstartorMainFolderName="[in_str_OrchestrartorMainFolderName]" in_arr_arr_str_ProjectDownTimes_Friday="[in_arr_arr_str_ProjectDownTimes_Friday]" in_arr_arr_str_ProjectDownTimes_Saturday="[in_arr_arr_str_ProjectDownTimes_Saturday]" in_arr_arr_str_ProjectDownTimes_Specific="[in_arr_arr_str_ProjectDownTimes_Specific]" in_arr_arr_str_ProjectDownTimes_Weekday="[in_arr_arr_str_ProjectDownTimes_Weekday]" in_arr_str_InvolvedApps="[in_arr_str_InvolvedApps]" in_str_BusinessDepartmentName="[in_str_BusinessDepartmentName]" in_str_BusinessDivisionName="[in_str_DivisionName]" in_str_BusinessProcessName="[in_str_BusinessProcessName]" in_str_CompanyName="[in_str_CompanyName]" in_str_CustomMainRPA_FolderPath="[in_str_CustomMainRPA_FolderPath]" in_str_GeneralFolderName="[in_str_GeneralFolderName]" io_ProcessSetup="[in_ProcessSetup]" />
                  </Sequence>
                </ui:CommentOut.Body>
                <sap:WorkflowViewStateService.ViewState>
                  <scg:Dictionary x:TypeArguments="x:String, x:Object">
                    <x:Boolean x:Key="IsAnnotationDocked">True</x:Boolean>
                  </scg:Dictionary>
                </sap:WorkflowViewStateService.ViewState>
              </ui:CommentOut>
              <Flowchart DisplayName="Check for downtime or user_machine down before start process" sap:VirtualizedContainerService.HintSize="782.4,985.6" sap2010:WorkflowViewState.IdRef="Flowchart_19">
                <sap:WorkflowViewStateService.ViewState>
                  <scg:Dictionary x:TypeArguments="x:String, x:Object">
                    <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                    <av:Point x:Key="ShapeLocation">30,2.4</av:Point>
                    <av:Size x:Key="ShapeSize">60,75.2</av:Size>
                    <av:PointCollection x:Key="ConnectorLocation">90,40 120,40 120,70 180,70</av:PointCollection>
                    <x:Double x:Key="Width">748.8</x:Double>
                    <x:Double x:Key="Height">948.79999999999973</x:Double>
                    <x:Boolean x:Key="IsPinned">False</x:Boolean>
                  </scg:Dictionary>
                </sap:WorkflowViewStateService.ViewState>
                <Flowchart.StartNode>
                  <x:Reference>__ReferenceID6</x:Reference>
                </Flowchart.StartNode>
                <FlowStep x:Name="__ReferenceID6">
                  <sap:WorkflowViewStateService.ViewState>
                    <scg:Dictionary x:TypeArguments="x:String, x:Object">
                      <av:Point x:Key="ShapeLocation">180,43.6</av:Point>
                      <av:Size x:Key="ShapeSize">200,52.8</av:Size>
                      <av:PointCollection x:Key="ConnectorLocation">280,96.4 280,126.4 277.841666666667,126.4 277.841666666667,146.4</av:PointCollection>
                    </scg:Dictionary>
                  </sap:WorkflowViewStateService.ViewState>
                  <ui:InvokeWorkflowFile ArgumentsVariable="{x:Null}" ContinueOnError="{x:Null}" DisplayName="Invoke CheckForDownTime workflow" sap:VirtualizedContainerService.HintSize="200,52.8" sap2010:WorkflowViewState.IdRef="InvokeWorkflowFile_55" LogEntry="No" LogExit="No" UnSafe="False" WorkflowFileName="CheckForDownTime.xaml">
                    <ui:InvokeWorkflowFile.Arguments>
                      <OutArgument x:TypeArguments="x:TimeSpan" x:Key="out_timespan_NextOK_Time">[timespan_NextOK_Time]</OutArgument>
                      <InOutArgument x:TypeArguments="hm:ProcessSetup" x:Key="io_ProcessSetup">[in_ProcessSetup]</InOutArgument>
                    </ui:InvokeWorkflowFile.Arguments>
                  </ui:InvokeWorkflowFile>
                  <FlowStep.Next>
                    <FlowDecision x:Name="__ReferenceID1" Condition="[in_ProcessSetup.Job.EndedReason.Equals(HMS.Modeling.JobEndedReason.ProcessDownTime) OrElse in_ProcessSetup.Job.EndedReason.Equals(HMS.Modeling.JobEndedReason.BusinessAppsDownTime)]" DisplayName="Is DownTime" sap:VirtualizedContainerService.HintSize="74.4,87.2" sap2010:WorkflowViewState.IdRef="FlowDecision_39">
                      <sap:WorkflowViewStateService.ViewState>
                        <scg:Dictionary x:TypeArguments="x:String, x:Object">
                          <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                          <av:Point x:Key="ShapeLocation">240.641666666667,146.4</av:Point>
                          <av:Size x:Key="ShapeSize">74.4,87.2</av:Size>
                          <av:PointCollection x:Key="FalseConnector">315.041666666667,190 350.4,190 350.4,336.4</av:PointCollection>
                        </scg:Dictionary>
                      </sap:WorkflowViewStateService.ViewState>
                      <FlowDecision.False>
                        <FlowDecision x:Name="__ReferenceID2" Condition="[((Newtonsoft.Json.JsonConvert.DeserializeObject(Of Dictionary(Of String, String))(in_ProcessSetup.BusinessProcess.Assets(&quot;GlobalErrorInfo&quot;).ToString)).ContainsKey(Environment.MachineName+&quot;_&quot;+Environment.UserName+&quot;_&quot;+in_ProcessSetup.Project.Json(&quot;name&quot;).ToString))]" DisplayName="Current machine_user exists in GlobalErrorInfo" sap:VirtualizedContainerService.HintSize="160,87.2" sap2010:WorkflowViewState.IdRef="FlowDecision_38">
                          <sap:WorkflowViewStateService.ViewState>
                            <scg:Dictionary x:TypeArguments="x:String, x:Object">
                              <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                              <av:Point x:Key="ShapeLocation">270.4,336.4</av:Point>
                              <av:Size x:Key="ShapeSize">160,87.2</av:Size>
                              <av:PointCollection x:Key="TrueConnector">270.4,380 210.4,380 210.4,456.4</av:PointCollection>
                              <av:PointCollection x:Key="FalseConnector">430.4,380 520,380 520,783.6 400,783.6 400,813.6</av:PointCollection>
                            </scg:Dictionary>
                          </sap:WorkflowViewStateService.ViewState>
                          <FlowDecision.True>
                            <FlowDecision x:Name="__ReferenceID3" Condition="[Not in_boo_GlobalErrorCheck OrElse Datetime.Now&gt;DateTime.ParseExact((Newtonsoft.Json.JsonConvert.DeserializeObject(Of Dictionary(Of String, String))(in_ProcessSetup.BusinessProcess.Assets(&quot;GlobalErrorInfo&quot;).ToString))(Environment.MachineName+&quot;_&quot;+Environment.UserName+&quot;_&quot;+in_ProcessSetup.Project.Json(&quot;name&quot;).ToString),&quot;dd/MM/yyyy HH:mm&quot;,Nothing)]" DisplayName="Need to turn machine_user up" sap:VirtualizedContainerService.HintSize="160,87.2" sap2010:WorkflowViewState.IdRef="FlowDecision_37">
                              <sap:WorkflowViewStateService.ViewState>
                                <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                  <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                                  <av:Point x:Key="ShapeLocation">130.4,456.4</av:Point>
                                  <av:Size x:Key="ShapeSize">160,87.2</av:Size>
                                  <av:PointCollection x:Key="TrueConnector">130.4,500 100,500 100,593.6</av:PointCollection>
                                  <av:PointCollection x:Key="FalseConnector">290.4,500 380,500 380,570</av:PointCollection>
                                </scg:Dictionary>
                              </sap:WorkflowViewStateService.ViewState>
                              <FlowDecision.True>
                                <FlowStep x:Name="__ReferenceID4">
                                  <sap:WorkflowViewStateService.ViewState>
                                    <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                      <av:Point x:Key="ShapeLocation">0,593.6</av:Point>
                                      <av:Size x:Key="ShapeSize">200,52.8</av:Size>
                                      <av:PointCollection x:Key="ConnectorLocation">100,646.4 100,783.6 400,783.6 400,813.6</av:PointCollection>
                                    </scg:Dictionary>
                                  </sap:WorkflowViewStateService.ViewState>
                                  <ui:InvokeWorkflowFile ArgumentsVariable="{x:Null}" ContinueOnError="{x:Null}" DisplayName="Invoke Turn Up Current User_Machine workflow" sap:VirtualizedContainerService.HintSize="200,52.8" sap2010:WorkflowViewState.IdRef="InvokeWorkflowFile_56" LogEntry="No" LogExit="No" UnSafe="False" WorkflowFileName="TurnUpOrDownCurrentUser_Machine.xaml">
                                    <ui:InvokeWorkflowFile.Arguments>
                                      <InOutArgument x:TypeArguments="hm:ProcessSetup" x:Key="io_ProcessSetup">[in_ProcessSetup]</InOutArgument>
                                      <InArgument x:TypeArguments="x:Boolean" x:Key="in_boo_TurnDown">False</InArgument>
                                      <InArgument x:TypeArguments="x:Int32" x:Key="in_int_Minutes">0</InArgument>
                                    </ui:InvokeWorkflowFile.Arguments>
                                  </ui:InvokeWorkflowFile>
                                  <FlowStep.Next>
                                    <x:Reference>__ReferenceID0</x:Reference>
                                  </FlowStep.Next>
                                </FlowStep>
                              </FlowDecision.True>
                              <FlowDecision.False>
                                <FlowStep x:Name="__ReferenceID5">
                                  <sap:WorkflowViewStateService.ViewState>
                                    <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                      <av:Point x:Key="ShapeLocation">248.8,570</av:Point>
                                      <av:Size x:Key="ShapeSize">262.4,60</av:Size>
                                    </scg:Dictionary>
                                  </sap:WorkflowViewStateService.ViewState>
                                  <Assign DisplayName="Assign EndedReason" sap:VirtualizedContainerService.HintSize="262.4,60" sap2010:WorkflowViewState.IdRef="Assign_195">
                                    <Assign.To>
                                      <OutArgument x:TypeArguments="hm:JobEndedReason">[in_ProcessSetup.Job.EndedReason]</OutArgument>
                                    </Assign.To>
                                    <Assign.Value>
                                      <InArgument x:TypeArguments="hm:JobEndedReason">[JobEndedReason.CurrentUserAndMachineDownRightNow]</InArgument>
                                    </Assign.Value>
                                  </Assign>
                                </FlowStep>
                              </FlowDecision.False>
                            </FlowDecision>
                          </FlowDecision.True>
                          <FlowDecision.False>
                            <FlowStep x:Name="__ReferenceID0">
                              <sap:WorkflowViewStateService.ViewState>
                                <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                  <av:Point x:Key="ShapeLocation">300,813.6</av:Point>
                                  <av:Size x:Key="ShapeSize">200,52.8</av:Size>
                                </scg:Dictionary>
                              </sap:WorkflowViewStateService.ViewState>
                              <ui:InvokeWorkflowFile ArgumentsVariable="{x:Null}" ContinueOnError="{x:Null}" DisplayName="Invoke StartProcess workflow" sap:VirtualizedContainerService.HintSize="200,52.8" sap2010:WorkflowViewState.IdRef="InvokeWorkflowFile_57" LogEntry="No" LogExit="No" UnSafe="False" WorkflowFileName="StartProcess.xaml">
                                <ui:InvokeWorkflowFile.Arguments>
                                  <InOutArgument x:TypeArguments="hm:ProcessSetup" x:Key="io_ProcessSetup">[in_ProcessSetup]</InOutArgument>
                                </ui:InvokeWorkflowFile.Arguments>
                              </ui:InvokeWorkflowFile>
                            </FlowStep>
                          </FlowDecision.False>
                        </FlowDecision>
                      </FlowDecision.False>
                    </FlowDecision>
                  </FlowStep.Next>
                </FlowStep>
                <x:Reference>__ReferenceID1</x:Reference>
                <x:Reference>__ReferenceID2</x:Reference>
                <x:Reference>__ReferenceID3</x:Reference>
                <x:Reference>__ReferenceID4</x:Reference>
                <x:Reference>__ReferenceID5</x:Reference>
                <x:Reference>__ReferenceID0</x:Reference>
              </Flowchart>
            </Sequence>
          </TryCatch.Try>
          <TryCatch.Catches>
            <Catch x:TypeArguments="s:Exception" sap:VirtualizedContainerService.HintSize="827.2,22.4" sap2010:WorkflowViewState.IdRef="Catch`1_4">
              <sap:WorkflowViewStateService.ViewState>
                <scg:Dictionary x:TypeArguments="x:String, x:Object">
                  <x:Boolean x:Key="IsExpanded">False</x:Boolean>
                  <x:Boolean x:Key="IsPinned">False</x:Boolean>
                </scg:Dictionary>
              </sap:WorkflowViewStateService.ViewState>
              <ActivityAction x:TypeArguments="s:Exception">
                <ActivityAction.Argument>
                  <DelegateInArgument x:TypeArguments="s:Exception" Name="exception" />
                </ActivityAction.Argument>
                <Sequence DisplayName="Catch_BeginningActions" sap:VirtualizedContainerService.HintSize="324.8,378.4" sap2010:WorkflowViewState.IdRef="Sequence_58">
                  <sap:WorkflowViewStateService.ViewState>
                    <scg:Dictionary x:TypeArguments="x:String, x:Object">
                      <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                    </scg:Dictionary>
                  </sap:WorkflowViewStateService.ViewState>
                  <h:System_Exception_Generic in_str_ScreenshotComment="{x:Null}" DisplayName="System Exception Generic" sap:VirtualizedContainerService.HintSize="283.2,134.4" sap2010:WorkflowViewState.IdRef="System_Exception_Generic_1" in_ProcessSetup="[in_ProcessSetup]" in_exception="[exception]" in_logLevel="[LogLevel.Error]" in_needScreenshot="True" in_screenshotsFolderPath="[in_ProcessSetup.BusinessProcess.ScreenshotsFolderPath]" out_takenScreenshotFullPath="[str_takenScreenshotFullPath]" out_takenScreenshotNameOnly="[str_takenScreenshotNameOnly]" />
                  <AddToCollection x:TypeArguments="s:Exception" Collection="[out_list_jobSystemExceptions]" DisplayName="Add To Collection" sap:VirtualizedContainerService.HintSize="283.2,22.4" sap2010:WorkflowViewState.IdRef="AddToCollection`1_20" Item="[exception]" />
                  <Assign sap:VirtualizedContainerService.HintSize="283.2,60" sap2010:WorkflowViewState.IdRef="Assign_204">
                    <Assign.To>
                      <OutArgument x:TypeArguments="hm:JobEndedReason">[in_ProcessSetup.Job.EndedReason]</OutArgument>
                    </Assign.To>
                    <Assign.Value>
                      <InArgument x:TypeArguments="hm:JobEndedReason">[JobEndedReason.ErrorInBeginningActions]</InArgument>
                    </Assign.Value>
                  </Assign>
                </Sequence>
              </ActivityAction>
            </Catch>
          </TryCatch.Catches>
        </TryCatch>
      </State.Entry>
      <sap:WorkflowViewStateService.ViewState>
        <scg:Dictionary x:TypeArguments="x:String, x:Object">
          <av:Point x:Key="ShapeLocation">226.4,56.8</av:Point>
          <av:Size x:Key="ShapeSize">219,120</av:Size>
          <x:Boolean x:Key="IsPinned">False</x:Boolean>
          <x:Double x:Key="StateContainerWidth">185.25714285714321</x:Double>
          <x:Double x:Key="StateContainerHeight">27.010343061956263</x:Double>
          <x:Boolean x:Key="IsAnnotationDocked">True</x:Boolean>
        </scg:Dictionary>
      </sap:WorkflowViewStateService.ViewState>
      <State.Transitions>
        <Transition DisplayName="Exception" sap:VirtualizedContainerService.HintSize="662.4,512.8" sap2010:WorkflowViewState.IdRef="Transition_35">
          <sap:WorkflowViewStateService.ViewState>
            <scg:Dictionary x:TypeArguments="x:String, x:Object">
              <av:PointCollection x:Key="ConnectorLocation">226.4,87.8 73.52,87.8 73.52,329.333333333333</av:PointCollection>
              <x:Int32 x:Key="SrcConnectionPointIndex">17</x:Int32>
              <x:Int32 x:Key="DestConnectionPointIndex">10</x:Int32>
            </scg:Dictionary>
          </sap:WorkflowViewStateService.ViewState>
          <Transition.To>
            <State x:Name="__ReferenceID7" DisplayName="State_End Process" sap:VirtualizedContainerService.HintSize="137,193" sap2010:WorkflowViewState.IdRef="State_4" IsFinal="True">
              <State.Entry>
                <If Condition="[out_list_JobBusinessExceptions.Count=1 AndAlso out_list_JobSystemExceptions.Count=0]" DisplayName="If there is only one single business exception" sap:VirtualizedContainerService.HintSize="727.2,359.2" sap2010:WorkflowViewState.IdRef="If_36">
                  <sap:WorkflowViewStateService.ViewState>
                    <scg:Dictionary x:TypeArguments="x:String, x:Object">
                      <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                      <x:Boolean x:Key="IsPinned">False</x:Boolean>
                    </scg:Dictionary>
                  </sap:WorkflowViewStateService.ViewState>
                  <If.Then>
                    <Throw DisplayName="Throw the only one business exception" Exception="[New BusinessRuleException(&quot;Exception.s:&quot;+Environment.NewLine+&quot;Business:&quot;+Environment.NewLine+&quot;#1: &quot;+out_list_JobBusinessExceptions(0).Message+Environment.NewLine+&quot;Data: &quot;+Newtonsoft.Json.JsonConvert.SerializeObject(out_list_JobBusinessExceptions(0).Data))]" sap:VirtualizedContainerService.HintSize="200,22.4" sap2010:WorkflowViewState.IdRef="Throw_7" />
                  </If.Then>
                  <If.Else>
                    <If Condition="[out_list_JobBusinessExceptions.Count&gt;0 OrElse out_list_JobSystemExceptions.Count&gt;0]" DisplayName="if there are exceptions" sap:VirtualizedContainerService.HintSize="483.2,209.6" sap2010:WorkflowViewState.IdRef="If_35">
                      <sap:WorkflowViewStateService.ViewState>
                        <scg:Dictionary x:TypeArguments="x:String, x:Object">
                          <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                          <x:Boolean x:Key="IsPinned">False</x:Boolean>
                        </scg:Dictionary>
                      </sap:WorkflowViewStateService.ViewState>
                      <If.Then>
                        <Throw DisplayName="Throw the exceptions" Exception="[New System.Exception(&quot;Exception.s:&quot;+Environment.NewLine+(IF(out_list_JobBusinessExceptions.Count&gt;0,&quot;Business:&quot;+Environment.NewLine+String.Join(Environment.NewLine,out_list_JobBusinessExceptions.Select(function(x, index) &quot;#&quot;+(index+1).ToString+&quot;: &quot;+x.Message+Environment.NewLine+&quot;Data: &quot;+Newtonsoft.Json.JsonConvert.SerializeObject(x.Data))),&quot;&quot;)+IF(out_list_JobSystemExceptions.Count&gt;0,Environment.NewLine+&quot;System:&quot;+Environment.NewLine+String.Join(Environment.NewLine,out_list_JobSystemExceptions.Select(function(x, index) &quot;#&quot;+(index+1).ToString+&quot;: &quot;+x.Message+Environment.NewLine+&quot;Data: &quot;+Newtonsoft.Json.JsonConvert.SerializeObject(x.Data))),&quot;&quot;)).Trim)]" sap:VirtualizedContainerService.HintSize="200,22.4" sap2010:WorkflowViewState.IdRef="Throw_8" />
                      </If.Then>
                    </If>
                  </If.Else>
                </If>
              </State.Entry>
              <sap:WorkflowViewStateService.ViewState>
                <scg:Dictionary x:TypeArguments="x:String, x:Object">
                  <av:Point x:Key="ShapeLocation">53,329.333333333333</av:Point>
                  <av:Size x:Key="ShapeSize">137,193</av:Size>
                  <x:Boolean x:Key="IsPinned">False</x:Boolean>
                  <x:Double x:Key="StateContainerWidth">103.19999999999996</x:Double>
                  <x:Double x:Key="StateContainerHeight">156.8</x:Double>
                </scg:Dictionary>
              </sap:WorkflowViewStateService.ViewState>
            </State>
          </Transition.To>
          <Transition.Action>
            <ui:InvokeWorkflowFile ArgumentsVariable="{x:Null}" ContinueOnError="{x:Null}" DisplayName="Invoke ErrorInBeginningActions workflow" sap:VirtualizedContainerService.HintSize="333.6,113.6" sap2010:WorkflowViewState.IdRef="InvokeWorkflowFile_67" UnSafe="False" WorkflowFileName="ErrorInBeginningActions.xaml">
              <ui:InvokeWorkflowFile.Arguments>
                <InOutArgument x:TypeArguments="hm:ProcessSetup" x:Key="io_ProcessSetup">[in_ProcessSetup]</InOutArgument>
              </ui:InvokeWorkflowFile.Arguments>
            </ui:InvokeWorkflowFile>
          </Transition.Action>
          <Transition.Condition>[out_list_jobSystemExceptions.Count&gt;0]</Transition.Condition>
        </Transition>
        <Transition DisplayName="Process/BusinessApps DownTime" sap:VirtualizedContainerService.HintSize="1187.2,512.8" sap2010:WorkflowViewState.IdRef="Transition_39">
          <sap:WorkflowViewStateService.ViewState>
            <scg:Dictionary x:TypeArguments="x:String, x:Object">
              <av:PointCollection x:Key="ConnectorLocation">226.4,110.8 94.1,110.8 94.1,329.333333333333</av:PointCollection>
              <x:Int32 x:Key="SrcConnectionPointIndex">33</x:Int32>
              <x:Int32 x:Key="DestConnectionPointIndex">22</x:Int32>
            </scg:Dictionary>
          </sap:WorkflowViewStateService.ViewState>
          <Transition.To>
            <x:Reference>__ReferenceID7</x:Reference>
          </Transition.To>
          <Transition.Action>
            <ui:InvokeWorkflowFile ArgumentsVariable="{x:Null}" ContinueOnError="{x:Null}" DisplayName="Invoke ProcessDownTimeInTheBeginning workflow" sap:VirtualizedContainerService.HintSize="378.4,113.6" sap2010:WorkflowViewState.IdRef="InvokeWorkflowFile_68" LogEntry="No" LogExit="No" UnSafe="False" WorkflowFileName="ProcessDownTimes\ProcessDownTimeInTheBeginning.xaml">
              <ui:InvokeWorkflowFile.Arguments>
                <InArgument x:TypeArguments="x:TimeSpan" x:Key="in_timespan_NextOK_Time">[timespan_NextOK_Time]</InArgument>
                <InArgument x:TypeArguments="x:String" x:Key="in_str_CustomOrchestratorQueueFolderPath">[in_str_CustomOrchestratorQueueFolderPath]</InArgument>
                <InArgument x:TypeArguments="x:String" x:Key="in_str_QueueName">[in_str_QueueName]</InArgument>
                <InOutArgument x:TypeArguments="hm:ProcessSetup" x:Key="io_ProcessSetup">[in_ProcessSetup]</InOutArgument>
              </ui:InvokeWorkflowFile.Arguments>
            </ui:InvokeWorkflowFile>
          </Transition.Action>
          <Transition.Condition>[(in_ProcessSetup.Job.EndedReason=JobEndedReason.ProcessDownTime OrElse in_ProcessSetup.Job.EndedReason=JobEndedReason.BusinessAppsDownTime) AndAlso out_list_jobSystemExceptions.Count=0]</Transition.Condition>
        </Transition>
        <Transition DisplayName="MoveOn" sap:VirtualizedContainerService.HintSize="1150.4,509.6" sap2010:WorkflowViewState.IdRef="Transition_8">
          <sap:WorkflowViewStateService.ViewState>
            <scg:Dictionary x:TypeArguments="x:String, x:Object">
              <x:Int32 x:Key="SrcConnectionPointIndex">44</x:Int32>
              <x:Int32 x:Key="DestConnectionPointIndex">13</x:Int32>
              <av:PointCollection x:Key="ConnectorLocation">445.4,128.8 475.4,128.8 475.4,28.4 695.6,28.4</av:PointCollection>
            </scg:Dictionary>
          </sap:WorkflowViewStateService.ViewState>
          <Transition.Condition>[out_list_jobSystemExceptions.Count=0 AndAlso in_ProcessSetup.Job.EndedReason=JobEndedReason.None]</Transition.Condition>
          <Transition.To>
            <State x:Name="__ReferenceID50" sap2010:Annotation.AnnotationText="Open and prepare business apps" DisplayName="State_Init Apps" sap:VirtualizedContainerService.HintSize="228,92" sap2010:WorkflowViewState.IdRef="State_6">
              <State.Entry>
                <TryCatch DisplayName="Try_Init" sap:VirtualizedContainerService.HintSize="438,339" sap2010:WorkflowViewState.IdRef="TryCatch_9">
                  <sap:WorkflowViewStateService.ViewState>
                    <scg:Dictionary x:TypeArguments="x:String, x:Object">
                      <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                      <x:Boolean x:Key="IsPinned">False</x:Boolean>
                    </scg:Dictionary>
                  </sap:WorkflowViewStateService.ViewState>
                  <TryCatch.Try>
                    <ui:InvokeWorkflowFile ArgumentsVariable="{x:Null}" ContinueOnError="{x:Null}" DisplayName="Invoke Initialization workflow" sap:VirtualizedContainerService.HintSize="334,112" sap2010:WorkflowViewState.IdRef="InvokeWorkflowFile_8" LogEntry="No" LogExit="No" UnSafe="False" WorkflowFileName="Initialization.xaml">
                      <ui:InvokeWorkflowFile.Arguments>
                        <InOutArgument x:TypeArguments="hm:ProcessSetup" x:Key="io_ProcessSetup">[in_ProcessSetup]</InOutArgument>
                      </ui:InvokeWorkflowFile.Arguments>
                    </ui:InvokeWorkflowFile>
                  </TryCatch.Try>
                  <TryCatch.Catches>
                    <Catch x:TypeArguments="s:Exception" sap:VirtualizedContainerService.HintSize="404,21" sap2010:WorkflowViewState.IdRef="Catch`1_10">
                      <sap:WorkflowViewStateService.ViewState>
                        <scg:Dictionary x:TypeArguments="x:String, x:Object">
                          <x:Boolean x:Key="IsExpanded">False</x:Boolean>
                          <x:Boolean x:Key="IsPinned">False</x:Boolean>
                        </scg:Dictionary>
                      </sap:WorkflowViewStateService.ViewState>
                      <ActivityAction x:TypeArguments="s:Exception">
                        <ActivityAction.Argument>
                          <DelegateInArgument x:TypeArguments="s:Exception" Name="exception" />
                        </ActivityAction.Argument>
                        <Sequence sap:VirtualizedContainerService.HintSize="479,851" sap2010:WorkflowViewState.IdRef="Sequence_180">
                          <sap:WorkflowViewStateService.ViewState>
                            <scg:Dictionary x:TypeArguments="x:String, x:Object">
                              <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                            </scg:Dictionary>
                          </sap:WorkflowViewStateService.ViewState>
                          <h:System_Exception_Generic in_str_ScreenshotComment="{x:Null}" DisplayName="System Exception Generic" sap:VirtualizedContainerService.HintSize="437,132" sap2010:WorkflowViewState.IdRef="System_Exception_Generic_2" in_ProcessSetup="[in_ProcessSetup]" in_exception="[exception]" in_logLevel="[LogLevel.Error]" in_needScreenshot="True" in_screenshotsFolderPath="[in_ProcessSetup.BusinessProcess.ScreenshotsFolderPath]" out_takenScreenshotFullPath="[str_takenScreenshotFullPath]" out_takenScreenshotNameOnly="[str_takenScreenshotNameOnly]" />
                          <AddToCollection x:TypeArguments="s:Exception" Collection="[out_list_jobSystemExceptions]" DisplayName="Add To Collection" sap:VirtualizedContainerService.HintSize="437,22" sap2010:WorkflowViewState.IdRef="AddToCollection`1_22" Item="[exception]" />
                          <Assign sap:VirtualizedContainerService.HintSize="437,60" sap2010:WorkflowViewState.IdRef="Assign_210">
                            <Assign.To>
                              <OutArgument x:TypeArguments="hm:JobEndedReason">[in_ProcessSetup.Job.EndedReason]</OutArgument>
                            </Assign.To>
                            <Assign.Value>
                              <InArgument x:TypeArguments="hm:JobEndedReason">[JobEndedReason.ErrorInInit]</InArgument>
                            </Assign.Value>
                          </Assign>
                          <TryCatch DisplayName="Try Initialization Exception." sap:VirtualizedContainerService.HintSize="436.8,437.6" sap2010:WorkflowViewState.IdRef="TryCatch_25">
                            <sap:WorkflowViewStateService.ViewState>
                              <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                                <x:Boolean x:Key="IsPinned">False</x:Boolean>
                              </scg:Dictionary>
                            </sap:WorkflowViewStateService.ViewState>
                            <TryCatch.Try>
                              <Sequence sap:VirtualizedContainerService.HintSize="375.2,206.4" sap2010:WorkflowViewState.IdRef="Sequence_188">
                                <sap:WorkflowViewStateService.ViewState>
                                  <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                    <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                                  </scg:Dictionary>
                                </sap:WorkflowViewStateService.ViewState>
                                <ui:InvokeWorkflowFile ArgumentsVariable="{x:Null}" ContinueOnError="{x:Null}" DisplayName="Invoke Initialization Exception workflow" sap:VirtualizedContainerService.HintSize="333.6,113.6" sap2010:WorkflowViewState.IdRef="InvokeWorkflowFile_60" LogEntry="No" LogExit="No" UnSafe="False" WorkflowFileName="InitializationException.xaml">
                                  <ui:InvokeWorkflowFile.Arguments>
                                    <InOutArgument x:TypeArguments="hm:ProcessSetup" x:Key="io_ProcessSetup">[in_ProcessSetup]</InOutArgument>
                                    <InArgument x:TypeArguments="s:Exception" x:Key="in_exception">[exception]</InArgument>
                                  </ui:InvokeWorkflowFile.Arguments>
                                </ui:InvokeWorkflowFile>
                              </Sequence>
                            </TryCatch.Try>
                            <TryCatch.Catches>
                              <Catch x:TypeArguments="s:Exception" sap:VirtualizedContainerService.HintSize="403.2,22.4" sap2010:WorkflowViewState.IdRef="Catch`1_28">
                                <sap:WorkflowViewStateService.ViewState>
                                  <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                    <x:Boolean x:Key="IsExpanded">False</x:Boolean>
                                    <x:Boolean x:Key="IsPinned">False</x:Boolean>
                                  </scg:Dictionary>
                                </sap:WorkflowViewStateService.ViewState>
                                <ActivityAction x:TypeArguments="s:Exception">
                                  <ActivityAction.Argument>
                                    <DelegateInArgument x:TypeArguments="s:Exception" Name="exception" />
                                  </ActivityAction.Argument>
                                  <Sequence sap:VirtualizedContainerService.HintSize="324.8,289.6" sap2010:WorkflowViewState.IdRef="Sequence_189">
                                    <sap:WorkflowViewStateService.ViewState>
                                      <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                        <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                                      </scg:Dictionary>
                                    </sap:WorkflowViewStateService.ViewState>
                                    <h:System_Exception_Generic in_str_ScreenshotComment="{x:Null}" DisplayName="System Exception Generic" sap:VirtualizedContainerService.HintSize="283.2,134.4" sap2010:WorkflowViewState.IdRef="System_Exception_Generic_22" in_ProcessSetup="[in_ProcessSetup]" in_exception="[exception]" in_logLevel="[LogLevel.Error]" in_needScreenshot="True" in_screenshotsFolderPath="[in_ProcessSetup.BusinessProcess.ScreenshotsFolderPath]" out_takenScreenshotFullPath="[str_takenScreenshotFullPath]" out_takenScreenshotNameOnly="[str_takenScreenshotNameOnly]" />
                                    <AddToCollection x:TypeArguments="s:Exception" Collection="[out_list_jobSystemExceptions]" DisplayName="Add To Collection" sap:VirtualizedContainerService.HintSize="283.2,22.4" sap2010:WorkflowViewState.IdRef="AddToCollection`1_46" Item="[exception]" />
                                  </Sequence>
                                </ActivityAction>
                              </Catch>
                            </TryCatch.Catches>
                          </TryCatch>
                        </Sequence>
                      </ActivityAction>
                    </Catch>
                  </TryCatch.Catches>
                </TryCatch>
              </State.Entry>
              <sap:WorkflowViewStateService.ViewState>
                <scg:Dictionary x:TypeArguments="x:String, x:Object">
                  <av:Point x:Key="ShapeLocation">695.6,10</av:Point>
                  <av:Size x:Key="ShapeSize">228,92</av:Size>
                  <x:Boolean x:Key="IsPinned">False</x:Boolean>
                  <x:Double x:Key="StateContainerWidth">194.28571428571445</x:Double>
                  <x:Double x:Key="StateContainerHeight">25</x:Double>
                  <x:Boolean x:Key="IsAnnotationDocked">True</x:Boolean>
                </scg:Dictionary>
              </sap:WorkflowViewStateService.ViewState>
              <State.Transitions>
                <Transition DisplayName="MoveOn" sap:VirtualizedContainerService.HintSize="448.8,511.2" sap2010:WorkflowViewState.IdRef="Transition_33">
                  <sap:WorkflowViewStateService.ViewState>
                    <scg:Dictionary x:TypeArguments="x:String, x:Object">
                      <av:PointCollection x:Key="ConnectorLocation">923.6,79.6 964.4,79.6 964.4,299.333333333333</av:PointCollection>
                      <x:Int32 x:Key="SrcConnectionPointIndex">56</x:Int32>
                      <x:Int32 x:Key="DestConnectionPointIndex">30</x:Int32>
                    </scg:Dictionary>
                  </sap:WorkflowViewStateService.ViewState>
                  <Transition.Condition>
                    <mva:VisualBasicValue x:TypeArguments="x:Boolean" ExpressionText="out_list_jobSystemExceptions.Count=0" sap2010:WorkflowViewState.IdRef="VisualBasicValue`1_7" />
                  </Transition.Condition>
                  <Transition.To>
                    <State x:Name="__ReferenceID49" DisplayName="State_Get next transaction item" sap:VirtualizedContainerService.HintSize="136,155" sap2010:WorkflowViewState.IdRef="State_8">
                      <State.Entry>
                        <Flowchart DisplayName="Flowchart_Get next transaction" sap:VirtualizedContainerService.HintSize="854,953" sap2010:WorkflowViewState.IdRef="Flowchart_11">
                          <sap:WorkflowViewStateService.ViewState>
                            <scg:Dictionary x:TypeArguments="x:String, x:Object">
                              <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                              <av:Point x:Key="ShapeLocation">0,2.4</av:Point>
                              <av:Size x:Key="ShapeSize">60,75</av:Size>
                              <x:Boolean x:Key="IsPinned">False</x:Boolean>
                              <av:PointCollection x:Key="ConnectorLocation">60,40 90,40 90,50 298.8,50</av:PointCollection>
                              <x:Double x:Key="Width">819.60000000000014</x:Double>
                              <x:Double x:Key="Height">916.6</x:Double>
                            </scg:Dictionary>
                          </sap:WorkflowViewStateService.ViewState>
                          <Flowchart.StartNode>
                            <x:Reference>__ReferenceID33</x:Reference>
                          </Flowchart.StartNode>
                          <FlowStep x:Name="__ReferenceID33" sap2010:WorkflowViewState.IdRef="FlowStep_9">
                            <sap:WorkflowViewStateService.ViewState>
                              <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                <av:Point x:Key="ShapeLocation">298.8,20</av:Point>
                                <av:Size x:Key="ShapeSize">262,60</av:Size>
                                <av:PointCollection x:Key="ConnectorLocation">430,80 430,110 410,110 410,138.8</av:PointCollection>
                              </scg:Dictionary>
                            </sap:WorkflowViewStateService.ViewState>
                            <Assign sap:VirtualizedContainerService.HintSize="262,60" sap2010:WorkflowViewState.IdRef="Assign_134">
                              <Assign.To>
                                <OutArgument x:TypeArguments="ui:QueueItem">[tran_currentTranItem]</OutArgument>
                              </Assign.To>
                              <Assign.Value>
                                <InArgument x:TypeArguments="ui:QueueItem">[Nothing]</InArgument>
                              </Assign.Value>
                              <sap:WorkflowViewStateService.ViewState>
                                <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                  <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                                </scg:Dictionary>
                              </sap:WorkflowViewStateService.ViewState>
                            </Assign>
                            <FlowStep.Next>
                              <FlowStep x:Name="__ReferenceID23" sap2010:WorkflowViewState.IdRef="FlowStep_8">
                                <sap:WorkflowViewStateService.ViewState>
                                  <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                    <av:Point x:Key="ShapeLocation">310,138.8</av:Point>
                                    <av:Size x:Key="ShapeSize">200,22</av:Size>
                                    <av:PointCollection x:Key="ConnectorLocation">410,161.2 410,191.2 380.641666666667,191.2 380.641666666667,201.2</av:PointCollection>
                                  </scg:Dictionary>
                                </sap:WorkflowViewStateService.ViewState>
                                <ui:ShouldStop DisplayName="Should Stop" sap:VirtualizedContainerService.HintSize="200,22" sap2010:WorkflowViewState.IdRef="ShouldStop_3" Result="[boo_shouldStop]">
                                  <sap:WorkflowViewStateService.ViewState>
                                    <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                      <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                                    </scg:Dictionary>
                                  </sap:WorkflowViewStateService.ViewState>
                                </ui:ShouldStop>
                                <FlowStep.Next>
                                  <FlowDecision x:Name="__ReferenceID24" Condition="[boo_shouldStop]" DisplayName="got stop request from orchestrator" sap:VirtualizedContainerService.HintSize="160,87" sap2010:WorkflowViewState.IdRef="FlowDecision_7">
                                    <sap:WorkflowViewStateService.ViewState>
                                      <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                        <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                                        <av:Point x:Key="ShapeLocation">300.641666666667,201.2</av:Point>
                                        <av:Size x:Key="ShapeSize">160,87</av:Size>
                                        <av:PointCollection x:Key="TrueConnector">300.641666666667,244.8 270.641666666667,244.8 270.641666666667,250 210,250</av:PointCollection>
                                        <av:PointCollection x:Key="FalseConnector">460.641666666667,244.8 570,244.8 570,333.6</av:PointCollection>
                                      </scg:Dictionary>
                                    </sap:WorkflowViewStateService.ViewState>
                                    <FlowDecision.True>
                                      <FlowStep x:Name="__ReferenceID25" sap2010:WorkflowViewState.IdRef="FlowStep_1">
                                        <sap:WorkflowViewStateService.ViewState>
                                          <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                            <av:Point x:Key="ShapeLocation">10,223.6</av:Point>
                                            <av:Size x:Key="ShapeSize">200,51</av:Size>
                                            <av:PointCollection x:Key="ConnectorLocation">110,276.4 110,306.4 131.2,306.4 131.2,326.4</av:PointCollection>
                                          </scg:Dictionary>
                                        </sap:WorkflowViewStateService.ViewState>
                                        <ui:LogMessage DisplayName="Log message (Stop process requested)" sap:VirtualizedContainerService.HintSize="200,51" sap2010:WorkflowViewState.IdRef="LogMessage_7" Level="Warn" Message="[&quot;Stop process requested fro orchestrator.&quot;]" />
                                        <FlowStep.Next>
                                          <FlowStep x:Name="__ReferenceID32">
                                            <sap:WorkflowViewStateService.ViewState>
                                              <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                                <av:Point x:Key="ShapeLocation">0,326.4</av:Point>
                                                <av:Size x:Key="ShapeSize">262,60</av:Size>
                                              </scg:Dictionary>
                                            </sap:WorkflowViewStateService.ViewState>
                                            <Assign sap:VirtualizedContainerService.HintSize="262,60" sap2010:WorkflowViewState.IdRef="Assign_206">
                                              <Assign.To>
                                                <OutArgument x:TypeArguments="hm:JobEndedReason">[in_ProcessSetup.Job.EndedReason]</OutArgument>
                                              </Assign.To>
                                              <Assign.Value>
                                                <InArgument x:TypeArguments="hm:JobEndedReason">[JobEndedReason.GotStopFromOrchestrator]</InArgument>
                                              </Assign.Value>
                                              <sap:WorkflowViewStateService.ViewState>
                                                <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                                  <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                                                </scg:Dictionary>
                                              </sap:WorkflowViewStateService.ViewState>
                                            </Assign>
                                          </FlowStep>
                                        </FlowStep.Next>
                                      </FlowStep>
                                    </FlowDecision.True>
                                    <FlowDecision.False>
                                      <FlowStep x:Name="__ReferenceID26">
                                        <sap:WorkflowViewStateService.ViewState>
                                          <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                            <av:Point x:Key="ShapeLocation">470,333.6</av:Point>
                                            <av:Size x:Key="ShapeSize">200,51</av:Size>
                                            <av:PointCollection x:Key="ConnectorLocation">570,386.4 570,416.4 460,416.4 460,436.4</av:PointCollection>
                                          </scg:Dictionary>
                                        </sap:WorkflowViewStateService.ViewState>
                                        <ui:InvokeWorkflowFile ArgumentsVariable="{x:Null}" ContinueOnError="{x:Null}" DisplayName="Invoke CheckForDownTime workflow" sap:VirtualizedContainerService.HintSize="200,51" sap2010:WorkflowViewState.IdRef="InvokeWorkflowFile_38" LogEntry="No" LogExit="No" UnSafe="False" WorkflowFileName="CheckForDownTime.xaml">
                                          <ui:InvokeWorkflowFile.Arguments>
                                            <OutArgument x:TypeArguments="x:TimeSpan" x:Key="out_timespan_NextOK_Time">[timespan_NextOK_Time]</OutArgument>
                                            <InOutArgument x:TypeArguments="hm:ProcessSetup" x:Key="io_ProcessSetup">[in_ProcessSetup]</InOutArgument>
                                          </ui:InvokeWorkflowFile.Arguments>
                                        </ui:InvokeWorkflowFile>
                                        <FlowStep.Next>
                                          <FlowDecision x:Name="__ReferenceID30" Condition="[in_ProcessSetup.Job.EndedReason.Equals(HMS.Modeling.JobEndedReason.ProcessDownTime) OrElse in_ProcessSetup.Job.EndedReason.Equals(HMS.Modeling.JobEndedReason.BusinessAppsDownTime)]" DisplayName="IsNowProcess/BusinessApps DownTime" sap:VirtualizedContainerService.HintSize="160,87" sap2010:WorkflowViewState.IdRef="FlowDecision_31">
                                            <sap:WorkflowViewStateService.ViewState>
                                              <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                                <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                                                <av:Point x:Key="ShapeLocation">380,436.4</av:Point>
                                                <av:Size x:Key="ShapeSize">160,87</av:Size>
                                                <av:PointCollection x:Key="FalseConnector">540,480 679.6,480 679.6,576.4</av:PointCollection>
                                                <av:PointCollection x:Key="TrueConnector">380,480 250,480 250,543.6</av:PointCollection>
                                              </scg:Dictionary>
                                            </sap:WorkflowViewStateService.ViewState>
                                            <FlowDecision.True>
                                              <FlowStep x:Name="__ReferenceID31">
                                                <sap:WorkflowViewStateService.ViewState>
                                                  <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                                    <av:Point x:Key="ShapeLocation">150,543.6</av:Point>
                                                    <av:Size x:Key="ShapeSize">200,51</av:Size>
                                                    <av:PointCollection x:Key="ConnectorLocation">170.641666666667,569.3 170.641666666667,599.3 170,599.3 170,620</av:PointCollection>
                                                  </scg:Dictionary>
                                                </sap:WorkflowViewStateService.ViewState>
                                                <ui:InvokeWorkflowFile ArgumentsVariable="{x:Null}" ContinueOnError="{x:Null}" DisplayName="Invoke Seq_ProcessDownTimeBeforeTransaction workflow" sap:VirtualizedContainerService.HintSize="200,51" sap2010:WorkflowViewState.IdRef="InvokeWorkflowFile_41" LogEntry="No" LogExit="No" UnSafe="False" WorkflowFileName="ProcessDownTimes\ProcessDownTimeBeforeTransaction.xaml">
                                                  <ui:InvokeWorkflowFile.Arguments>
                                                    <InArgument x:TypeArguments="x:TimeSpan" x:Key="in_timespan_NextOK_Time">[timespan_NextOK_Time]</InArgument>
                                                    <InArgument x:TypeArguments="x:String" x:Key="in_str_CustomOrchestratorQueueFolderPath">[in_str_CustomOrchestratorQueueFolderPath]</InArgument>
                                                    <InArgument x:TypeArguments="x:String" x:Key="in_str_QueueName">[in_str_QueueName]</InArgument>
                                                    <InOutArgument x:TypeArguments="hm:ProcessSetup" x:Key="io_ProcessSetup">[in_ProcessSetup]</InOutArgument>
                                                  </ui:InvokeWorkflowFile.Arguments>
                                                </ui:InvokeWorkflowFile>
                                              </FlowStep>
                                            </FlowDecision.True>
                                            <FlowDecision.False>
                                              <FlowDecision x:Name="__ReferenceID28" sap2010:Annotation.AnnotationText="Original condition:&#xA;If(in_ProcessSetup.Job.IsRunningFromRobot,in_boo_CheckUrgentJob And in_ProcessSetup.Job.Details(&quot;JobPriority&quot;).ToString&lt;&gt;&quot;High&quot;,false)" Condition="[If(in_ProcessSetup.Job.IsRunningFromRobot,in_boo_CheckUrgentJob And in_ProcessSetup.Job.Details(&quot;JobPriority&quot;).ToString&lt;&gt;&quot;High&quot;,false)]" DisplayName="need to check for urgent job" sap:VirtualizedContainerService.HintSize="156,87" sap2010:WorkflowViewState.IdRef="FlowDecision_29">
                                                <sap:WorkflowViewStateService.ViewState>
                                                  <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                                    <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                                                    <av:Point x:Key="ShapeLocation">601.6,576.4</av:Point>
                                                    <av:Size x:Key="ShapeSize">156,87</av:Size>
                                                    <av:PointCollection x:Key="FalseConnector">757.6,620 780,620 780,833.6 630,833.6 630,863.6</av:PointCollection>
                                                    <av:PointCollection x:Key="TrueConnector">601.6,620 440,620 440,633.6</av:PointCollection>
                                                    <x:Boolean x:Key="IsAnnotationDocked">False</x:Boolean>
                                                  </scg:Dictionary>
                                                </sap:WorkflowViewStateService.ViewState>
                                                <FlowDecision.True>
                                                  <FlowStep x:Name="__ReferenceID29">
                                                    <sap:WorkflowViewStateService.ViewState>
                                                      <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                                        <av:Point x:Key="ShapeLocation">340,633.6</av:Point>
                                                        <av:Size x:Key="ShapeSize">200,51</av:Size>
                                                        <av:PointCollection x:Key="ConnectorLocation">440,686.4 440,716.4 410,716.4 410,726.4</av:PointCollection>
                                                      </scg:Dictionary>
                                                    </sap:WorkflowViewStateService.ViewState>
                                                    <Flowchart DisplayName="check for uregent job" sap:VirtualizedContainerService.HintSize="200,51" sap2010:WorkflowViewState.IdRef="Flowchart_16">
                                                      <sap:WorkflowViewStateService.ViewState>
                                                        <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                                          <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                                                          <av:Point x:Key="ShapeLocation">0,2.5</av:Point>
                                                          <av:Size x:Key="ShapeSize">60,75.2</av:Size>
                                                          <av:PointCollection x:Key="ConnectorLocation">60,40.1 210,40.1 210,93.6</av:PointCollection>
                                                          <x:Double x:Key="Width">951.59999999999968</x:Double>
                                                          <x:Double x:Key="Height">876.4</x:Double>
                                                        </scg:Dictionary>
                                                      </sap:WorkflowViewStateService.ViewState>
                                                      <Flowchart.StartNode>
                                                        <x:Reference>__ReferenceID21</x:Reference>
                                                      </Flowchart.StartNode>
                                                      <FlowDecision x:Name="__ReferenceID15" Condition="[boo_StopJobBecauseOfUrgent]" DisplayName="need to stop" sap:VirtualizedContainerService.HintSize="72.8,87.2" sap2010:WorkflowViewState.IdRef="FlowDecision_28">
                                                        <sap:WorkflowViewStateService.ViewState>
                                                          <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                                            <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                                                            <av:Point x:Key="ShapeLocation">173.6,196.4</av:Point>
                                                            <av:Size x:Key="ShapeSize">72.8,87.2</av:Size>
                                                            <av:PointCollection x:Key="TrueConnector">173.6,240 110,240 110,306.84</av:PointCollection>
                                                          </scg:Dictionary>
                                                        </sap:WorkflowViewStateService.ViewState>
                                                        <FlowDecision.True>
                                                          <FlowStep x:Name="__ReferenceID17">
                                                            <sap:WorkflowViewStateService.ViewState>
                                                              <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                                                <av:Point x:Key="ShapeLocation">10,306.84</av:Point>
                                                                <av:Size x:Key="ShapeSize">200,52.8</av:Size>
                                                                <av:PointCollection x:Key="ConnectorLocation">110,359.64 110,388.8</av:PointCollection>
                                                              </scg:Dictionary>
                                                            </sap:WorkflowViewStateService.ViewState>
                                                            <ui:LogMessage DisplayName="Log Message" sap:VirtualizedContainerService.HintSize="200,52.8" sap2010:WorkflowViewState.IdRef="LogMessage_27" Level="Warn" Message="[&quot;There is at least 1 job pending with high priority to run on this machine! The execution stops and wil be resumed later.&quot;]">
                                                              <sap:WorkflowViewStateService.ViewState>
                                                                <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                                                  <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                                                                </scg:Dictionary>
                                                              </sap:WorkflowViewStateService.ViewState>
                                                            </ui:LogMessage>
                                                            <FlowStep.Next>
                                                              <FlowStep x:Name="__ReferenceID16">
                                                                <sap:WorkflowViewStateService.ViewState>
                                                                  <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                                                    <av:Point x:Key="ShapeLocation">10,388.8</av:Point>
                                                                    <av:Size x:Key="ShapeSize">200,52.8</av:Size>
                                                                    <av:PointCollection x:Key="ConnectorLocation">110,441.6 110,471.6 131.2,471.6 131.2,491.6</av:PointCollection>
                                                                  </scg:Dictionary>
                                                                </sap:WorkflowViewStateService.ViewState>
                                                                <ui:RaiseAlert ContinueOnError="True" DisplayName="Raise Alert" FolderPath="[in_ProcessSetup.BusinessDepartment.OrchestratorFolderPath]" sap:VirtualizedContainerService.HintSize="200,52.8" sap2010:WorkflowViewState.IdRef="RaiseAlert_2" Notification="There is at least 1 job pending with high priority to run on this machine! The execution stops and wil be resumed later." Severity="Warning" TimeoutMS="5000">
                                                                  <sap:WorkflowViewStateService.ViewState>
                                                                    <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                                                      <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                                                                    </scg:Dictionary>
                                                                  </sap:WorkflowViewStateService.ViewState>
                                                                </ui:RaiseAlert>
                                                                <FlowStep.Next>
                                                                  <FlowStep x:Name="__ReferenceID20">
                                                                    <sap:WorkflowViewStateService.ViewState>
                                                                      <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                                                        <av:Point x:Key="ShapeLocation">0,491.6</av:Point>
                                                                        <av:Size x:Key="ShapeSize">262.4,60</av:Size>
                                                                        <av:PointCollection x:Key="ConnectorLocation">131.2,551.6 131.2,581.6 110,581.6 110,614</av:PointCollection>
                                                                      </scg:Dictionary>
                                                                    </sap:WorkflowViewStateService.ViewState>
                                                                    <Assign sap:VirtualizedContainerService.HintSize="262.4,60" sap2010:WorkflowViewState.IdRef="Assign_207">
                                                                      <Assign.To>
                                                                        <OutArgument x:TypeArguments="hm:JobEndedReason">[in_ProcessSetup.Job.EndedReason]</OutArgument>
                                                                      </Assign.To>
                                                                      <Assign.Value>
                                                                        <InArgument x:TypeArguments="hm:JobEndedReason">[JobEndedReason.StopForUrgentJob]</InArgument>
                                                                      </Assign.Value>
                                                                      <sap:WorkflowViewStateService.ViewState>
                                                                        <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                                                          <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                                                                        </scg:Dictionary>
                                                                      </sap:WorkflowViewStateService.ViewState>
                                                                    </Assign>
                                                                    <FlowStep.Next>
                                                                      <FlowStep x:Name="__ReferenceID19">
                                                                        <sap:WorkflowViewStateService.ViewState>
                                                                          <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                                                            <av:Point x:Key="ShapeLocation">10,614</av:Point>
                                                                            <av:Size x:Key="ShapeSize">200,52.8</av:Size>
                                                                            <av:PointCollection x:Key="ConnectorLocation">110,666.8 110,684</av:PointCollection>
                                                                          </scg:Dictionary>
                                                                        </sap:WorkflowViewStateService.ViewState>
                                                                        <hs:Start_Job in_str_MachineName="{x:Null}" DisplayName="Start Job" sap:VirtualizedContainerService.HintSize="200,52.8" sap2010:WorkflowViewState.IdRef="Start_Job_1" in_JobPriority="[in_ProcessSetup.Job.Priority]" in_OrchestratorAuth="[in_ProcessSetup.Environment.OrchestratorAuth]" in_RuntimeType="[in_ProcessSetup.Job.RuntimeType]" in_dic_InputArguments="[in_ProcessSetup.Job.MainArguments]" in_str_FolderPath="[in_ProcessSetup.BusinessProcess.OrchestratorFolderPath]" in_str_ProcessName="[in_ProcessSetup.Job.Details(&quot;ReleaseName&quot;).ToString]">
                                                                          <sap:WorkflowViewStateService.ViewState>
                                                                            <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                                                              <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                                                                            </scg:Dictionary>
                                                                          </sap:WorkflowViewStateService.ViewState>
                                                                        </hs:Start_Job>
                                                                        <FlowStep.Next>
                                                                          <FlowStep x:Name="__ReferenceID18">
                                                                            <sap:WorkflowViewStateService.ViewState>
                                                                              <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                                                                <av:Point x:Key="ShapeLocation">10,684</av:Point>
                                                                                <av:Size x:Key="ShapeSize">200,52.8</av:Size>
                                                                              </scg:Dictionary>
                                                                            </sap:WorkflowViewStateService.ViewState>
                                                                            <TryCatch DisplayName="Try Catch - stop Because Urgent Job" sap:VirtualizedContainerService.HintSize="200,52.8" sap2010:WorkflowViewState.IdRef="TryCatch_27">
                                                                              <sap:WorkflowViewStateService.ViewState>
                                                                                <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                                                                  <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                                                                                </scg:Dictionary>
                                                                              </sap:WorkflowViewStateService.ViewState>
                                                                              <TryCatch.Try>
                                                                                <ui:InvokeWorkflowFile ArgumentsVariable="{x:Null}" ContinueOnError="{x:Null}" DisplayName="Invoke When Stopping because of Urgent Job workflow" sap:VirtualizedContainerService.HintSize="333.6,113.6" sap2010:WorkflowViewState.IdRef="InvokeWorkflowFile_62" LogEntry="No" LogExit="No" UnSafe="False" WorkflowFileName="WhenStoppingBecauseOfUrgentJob.xaml">
                                                                                  <ui:InvokeWorkflowFile.Arguments>
                                                                                    <InOutArgument x:TypeArguments="hm:ProcessSetup" x:Key="io_ProcessSetup">[in_ProcessSetup]</InOutArgument>
                                                                                  </ui:InvokeWorkflowFile.Arguments>
                                                                                </ui:InvokeWorkflowFile>
                                                                              </TryCatch.Try>
                                                                              <TryCatch.Catches>
                                                                                <Catch x:TypeArguments="s:Exception" sap:VirtualizedContainerService.HintSize="400,360" sap2010:WorkflowViewState.IdRef="Catch`1_30">
                                                                                  <sap:WorkflowViewStateService.ViewState>
                                                                                    <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                                                                      <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                                                                                      <x:Boolean x:Key="IsPinned">False</x:Boolean>
                                                                                    </scg:Dictionary>
                                                                                  </sap:WorkflowViewStateService.ViewState>
                                                                                  <ActivityAction x:TypeArguments="s:Exception">
                                                                                    <ActivityAction.Argument>
                                                                                      <DelegateInArgument x:TypeArguments="s:Exception" Name="exception" />
                                                                                    </ActivityAction.Argument>
                                                                                    <Sequence sap:VirtualizedContainerService.HintSize="324.8,289.6" sap2010:WorkflowViewState.IdRef="Sequence_187">
                                                                                      <sap:WorkflowViewStateService.ViewState>
                                                                                        <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                                                                          <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                                                                                        </scg:Dictionary>
                                                                                      </sap:WorkflowViewStateService.ViewState>
                                                                                      <h:System_Exception_Generic in_str_ScreenshotComment="{x:Null}" out_takenScreenshotFullPath="{x:Null}" out_takenScreenshotNameOnly="{x:Null}" DisplayName="System Exception Generic" sap:VirtualizedContainerService.HintSize="283.2,134.4" sap2010:WorkflowViewState.IdRef="System_Exception_Generic_21" in_ProcessSetup="[in_ProcessSetup]" in_exception="[exception]" in_logLevel="[LogLevel.Error]" in_needScreenshot="False" in_screenshotsFolderPath="[in_ProcessSetup.BusinessProcess.ScreenshotsFolderPath]" />
                                                                                      <AddToCollection x:TypeArguments="s:Exception" Collection="[out_list_JobSystemExceptions]" DisplayName="Add To Collection" sap:VirtualizedContainerService.HintSize="283.2,22.4" sap2010:WorkflowViewState.IdRef="AddToCollection`1_45" Item="[exception]" />
                                                                                    </Sequence>
                                                                                  </ActivityAction>
                                                                                </Catch>
                                                                              </TryCatch.Catches>
                                                                            </TryCatch>
                                                                          </FlowStep>
                                                                        </FlowStep.Next>
                                                                      </FlowStep>
                                                                    </FlowStep.Next>
                                                                  </FlowStep>
                                                                </FlowStep.Next>
                                                              </FlowStep>
                                                            </FlowStep.Next>
                                                          </FlowStep>
                                                        </FlowDecision.True>
                                                      </FlowDecision>
                                                      <FlowStep x:Name="__ReferenceID21">
                                                        <sap:WorkflowViewStateService.ViewState>
                                                          <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                                            <av:Point x:Key="ShapeLocation">110,93.6</av:Point>
                                                            <av:Size x:Key="ShapeSize">200,52.8</av:Size>
                                                            <av:PointCollection x:Key="ConnectorLocation">210,146.4 210,196.4</av:PointCollection>
                                                          </scg:Dictionary>
                                                        </sap:WorkflowViewStateService.ViewState>
                                                        <Flowchart DisplayName="Flowchart_CheckJobs" sap:VirtualizedContainerService.HintSize="200,52.8" sap2010:WorkflowViewState.IdRef="Flowchart_15">
                                                          <Flowchart.Variables>
                                                            <Variable x:TypeArguments="sd:DataTable" Name="dt_Filters" />
                                                            <Variable x:TypeArguments="njl:JArray" Name="jarray_HighPendingJobs" />
                                                            <Variable x:TypeArguments="s:String[]" Name="arr_str_PendingJobsFolders" />
                                                          </Flowchart.Variables>
                                                          <sap:WorkflowViewStateService.ViewState>
                                                            <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                                              <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                                                              <av:Point x:Key="ShapeLocation">0,2.4</av:Point>
                                                              <av:Size x:Key="ShapeSize">60,75.2</av:Size>
                                                              <av:PointCollection x:Key="ConnectorLocation">60,40 110,40</av:PointCollection>
                                                              <x:Double x:Key="Width">731.6</x:Double>
                                                            </scg:Dictionary>
                                                          </sap:WorkflowViewStateService.ViewState>
                                                          <Flowchart.StartNode>
                                                            <x:Reference>__ReferenceID14</x:Reference>
                                                          </Flowchart.StartNode>
                                                          <FlowStep x:Name="__ReferenceID14">
                                                            <sap:WorkflowViewStateService.ViewState>
                                                              <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                                                <av:Point x:Key="ShapeLocation">110,13.6</av:Point>
                                                                <av:Size x:Key="ShapeSize">200,52.8</av:Size>
                                                                <av:PointCollection x:Key="ConnectorLocation">310,40 340,40 340,49.2 360,49.2</av:PointCollection>
                                                              </scg:Dictionary>
                                                            </sap:WorkflowViewStateService.ViewState>
                                                            <ui:BuildDataTable DataTable="[dt_Filters]" DisplayName="Build Data Table" sap:VirtualizedContainerService.HintSize="200,52.8" sap2010:WorkflowViewState.IdRef="BuildDataTable_4" TableInfo="&lt;NewDataSet&gt;&#xA;  &lt;xs:schema id=&quot;NewDataSet&quot; xmlns=&quot;&quot; xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot; xmlns:msdata=&quot;urn:schemas-microsoft-com:xml-msdata&quot;&gt;&#xA;    &lt;xs:element name=&quot;NewDataSet&quot; msdata:IsDataSet=&quot;true&quot; msdata:MainDataTable=&quot;TableName&quot; msdata:UseCurrentLocale=&quot;true&quot;&gt;&#xA;      &lt;xs:complexType&gt;&#xA;        &lt;xs:choice minOccurs=&quot;0&quot; maxOccurs=&quot;unbounded&quot;&gt;&#xA;          &lt;xs:element name=&quot;TableName&quot;&gt;&#xA;            &lt;xs:complexType&gt;&#xA;              &lt;xs:sequence&gt;&#xA;                &lt;xs:element name=&quot;Column1&quot; msdata:Caption=&quot;&quot; minOccurs=&quot;0&quot;&gt;&#xA;                  &lt;xs:simpleType&gt;&#xA;                    &lt;xs:restriction base=&quot;xs:string&quot;&gt;&#xA;                      &lt;xs:maxLength value=&quot;100&quot; /&gt;&#xA;                    &lt;/xs:restriction&gt;&#xA;                  &lt;/xs:simpleType&gt;&#xA;                &lt;/xs:element&gt;&#xA;                &lt;xs:element name=&quot;Column2&quot; msdata:Caption=&quot;&quot; type=&quot;xs:string&quot; /&gt;&#xA;                &lt;xs:element name=&quot;column3&quot; msdata:DataType=&quot;System.Object, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089&quot; msdata:Caption=&quot;&quot; type=&quot;xs:anyType&quot; /&gt;&#xA;              &lt;/xs:sequence&gt;&#xA;            &lt;/xs:complexType&gt;&#xA;          &lt;/xs:element&gt;&#xA;        &lt;/xs:choice&gt;&#xA;      &lt;/xs:complexType&gt;&#xA;    &lt;/xs:element&gt;&#xA;  &lt;/xs:schema&gt;&#xA;  &lt;TableName&gt;&#xA;    &lt;Column1&gt;State&lt;/Column1&gt;&#xA;    &lt;Column2&gt;Eq&lt;/Column2&gt;&#xA;    &lt;column3 xsi:type=&quot;xs:string&quot; xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&gt;Pending&lt;/column3&gt;&#xA;  &lt;/TableName&gt;&#xA;  &lt;TableName&gt;&#xA;    &lt;Column1&gt;JobPriority&lt;/Column1&gt;&#xA;    &lt;Column2&gt;Eq&lt;/Column2&gt;&#xA;    &lt;column3 xsi:type=&quot;xs:string&quot; xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&gt;High&lt;/column3&gt;&#xA;  &lt;/TableName&gt;&#xA;&lt;/NewDataSet&gt;">
                                                              <sap:WorkflowViewStateService.ViewState>
                                                                <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                                                  <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                                                                </scg:Dictionary>
                                                              </sap:WorkflowViewStateService.ViewState>
                                                            </ui:BuildDataTable>
                                                            <FlowStep.Next>
                                                              <FlowStep x:Name="__ReferenceID13">
                                                                <sap:WorkflowViewStateService.ViewState>
                                                                  <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                                                    <av:Point x:Key="ShapeLocation">360,0</av:Point>
                                                                    <av:Size x:Key="ShapeSize">200,98.4</av:Size>
                                                                    <av:PointCollection x:Key="ConnectorLocation">460,98.4 460,148.4</av:PointCollection>
                                                                  </scg:Dictionary>
                                                                </sap:WorkflowViewStateService.ViewState>
                                                                <hg:Get_Jobs in_str_FolderPath="{x:Null}" sap2010:Annotation.AnnotationText="We Put here True because we want to get any pending, even those which current user is not allowed to perform" DisplayName="Get Jobs" sap:VirtualizedContainerService.HintSize="200,98.4" sap2010:WorkflowViewState.IdRef="Get_Jobs_1" in_OrchestratorAuth="[New OrchestratorAuth(in_ProcessSetup.Environment.OrchestratorAuth.OrchestratorURL, in_ProcessSetup.Environment.OrchestratorAuth.TenantName, true, in_ProcessSetup.Environment.OrchestratorAuth.UserName, in_ProcessSetup.Environment.OrchestratorAuth.Password, in_ProcessSetup.Environment.OrchestratorAuth.NewMethod)]" in_dt_Filters="[dt_Filters]" out_JArray_Jobs="[jarray_HighPendingJobs]">
                                                                  <sap:WorkflowViewStateService.ViewState>
                                                                    <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                                                      <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                                                                      <x:Boolean x:Key="IsAnnotationDocked">True</x:Boolean>
                                                                    </scg:Dictionary>
                                                                  </sap:WorkflowViewStateService.ViewState>
                                                                </hg:Get_Jobs>
                                                                <FlowStep.Next>
                                                                  <FlowDecision x:Name="__ReferenceID8" Condition="[jarray_HighPendingJobs.Where(function(x) x(&quot;HostMachineName&quot;).ToString=Environment.MachineName).Count&gt;0]" DisplayName="Are there high pending jobs for my current machine?" sap:VirtualizedContainerService.HintSize="160,87.2" sap2010:WorkflowViewState.IdRef="FlowDecision_27">
                                                                    <sap:WorkflowViewStateService.ViewState>
                                                                      <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                                                        <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                                                                        <av:Point x:Key="ShapeLocation">380,148.4</av:Point>
                                                                        <av:Size x:Key="ShapeSize">160,87.2</av:Size>
                                                                        <av:PointCollection x:Key="TrueConnector">380,192 140,192 140,270</av:PointCollection>
                                                                        <av:PointCollection x:Key="FalseConnector">540,192 570,192 570,286.4 400,286.4 400,316.4</av:PointCollection>
                                                                      </scg:Dictionary>
                                                                    </sap:WorkflowViewStateService.ViewState>
                                                                    <FlowDecision.True>
                                                                      <FlowStep x:Name="__ReferenceID9">
                                                                        <sap:WorkflowViewStateService.ViewState>
                                                                          <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                                                            <av:Point x:Key="ShapeLocation">8.80000000000001,270</av:Point>
                                                                            <av:Size x:Key="ShapeSize">262.4,60</av:Size>
                                                                            <av:PointCollection x:Key="ConnectorLocation">138.99,270 138.99,300 207.041666666667,300 207.041666666667,482.8</av:PointCollection>
                                                                          </scg:Dictionary>
                                                                        </sap:WorkflowViewStateService.ViewState>
                                                                        <Assign sap:VirtualizedContainerService.HintSize="262.4,60" sap2010:WorkflowViewState.IdRef="Assign_175">
                                                                          <Assign.To>
                                                                            <OutArgument x:TypeArguments="x:Boolean">[boo_StopJobBecauseOfUrgent]</OutArgument>
                                                                          </Assign.To>
                                                                          <Assign.Value>
                                                                            <InArgument x:TypeArguments="x:Boolean">True</InArgument>
                                                                          </Assign.Value>
                                                                          <sap:WorkflowViewStateService.ViewState>
                                                                            <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                                                              <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                                                                            </scg:Dictionary>
                                                                          </sap:WorkflowViewStateService.ViewState>
                                                                        </Assign>
                                                                      </FlowStep>
                                                                    </FlowDecision.True>
                                                                    <FlowDecision.False>
                                                                      <FlowDecision x:Name="__ReferenceID10" Condition="[jarray_HighPendingJobs.Where(function(x) x(&quot;HostMachineName&quot;).ToString=&quot;&quot;).Count&gt;0]" DisplayName="Are there high pending jobs for first available machine?" sap:VirtualizedContainerService.HintSize="160,87.2" sap2010:WorkflowViewState.IdRef="FlowDecision_26">
                                                                        <sap:WorkflowViewStateService.ViewState>
                                                                          <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                                                            <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                                                                            <av:Point x:Key="ShapeLocation">320,316.4</av:Point>
                                                                            <av:Size x:Key="ShapeSize">160,87.2</av:Size>
                                                                            <av:PointCollection x:Key="TrueConnector">320,360 290,360 290,390 270,390</av:PointCollection>
                                                                          </scg:Dictionary>
                                                                        </sap:WorkflowViewStateService.ViewState>
                                                                        <FlowDecision.True>
                                                                          <FlowStep x:Name="__ReferenceID12">
                                                                            <sap:WorkflowViewStateService.ViewState>
                                                                              <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                                                                <av:Point x:Key="ShapeLocation">7.60000000000002,360</av:Point>
                                                                                <av:Size x:Key="ShapeSize">262.4,60</av:Size>
                                                                                <av:PointCollection x:Key="ConnectorLocation">138.8,420 138.8,450 200,450 200,503.6</av:PointCollection>
                                                                              </scg:Dictionary>
                                                                            </sap:WorkflowViewStateService.ViewState>
                                                                            <Assign sap:VirtualizedContainerService.HintSize="262.4,60" sap2010:WorkflowViewState.IdRef="Assign_176">
                                                                              <Assign.To>
                                                                                <OutArgument x:TypeArguments="s:String[]">[arr_str_PendingJobsFolders]</OutArgument>
                                                                              </Assign.To>
                                                                              <Assign.Value>
                                                                                <InArgument x:TypeArguments="s:String[]">[jarray_HighPendingJobs.Select(function(x) x("OrganizationUnitFullyQualifiedName").ToString).Distinct.ToArray]</InArgument>
                                                                              </Assign.Value>
                                                                              <sap:WorkflowViewStateService.ViewState>
                                                                                <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                                                                  <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                                                                                </scg:Dictionary>
                                                                              </sap:WorkflowViewStateService.ViewState>
                                                                            </Assign>
                                                                            <FlowStep.Next>
                                                                              <FlowStep x:Name="__ReferenceID11">
                                                                                <sap:WorkflowViewStateService.ViewState>
                                                                                  <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                                                                    <av:Point x:Key="ShapeLocation">100,503.6</av:Point>
                                                                                    <av:Size x:Key="ShapeSize">200,52.8</av:Size>
                                                                                    <av:PointCollection x:Key="ConnectorLocation">390,452.8 390,482.8 273.441666666667,482.8 273.441666666667,452.8 207.041666666667,452.8 207.041666666667,482.8</av:PointCollection>
                                                                                  </scg:Dictionary>
                                                                                </sap:WorkflowViewStateService.ViewState>
                                                                                <ui:ForEach x:TypeArguments="x:String" CurrentIndex="{x:Null}" DisplayName="For Each" sap:VirtualizedContainerService.HintSize="200,52.8" sap2010:WorkflowViewState.IdRef="ForEach`1_4" Values="[arr_str_PendingJobsFolders]">
                                                                                  <ui:ForEach.Body>
                                                                                    <ActivityAction x:TypeArguments="x:String">
                                                                                      <ActivityAction.Argument>
                                                                                        <DelegateInArgument x:TypeArguments="x:String" Name="item" />
                                                                                      </ActivityAction.Argument>
                                                                                      <Sequence DisplayName="Body" sap:VirtualizedContainerService.HintSize="524.8,551.2" sap2010:WorkflowViewState.IdRef="Sequence_149">
                                                                                        <Sequence.Variables>
                                                                                          <Variable x:TypeArguments="njl:JArray" Name="jarray_Machines" />
                                                                                        </Sequence.Variables>
                                                                                        <sap:WorkflowViewStateService.ViewState>
                                                                                          <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                                                                            <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                                                                                          </scg:Dictionary>
                                                                                        </sap:WorkflowViewStateService.ViewState>
                                                                                        <hg:Get_Machines_By_Folder_Path sap2010:Annotation.AnnotationText="need auth must be true" DisplayName="Get Machines By Folder Path" sap:VirtualizedContainerService.HintSize="483.2,53.6" sap2010:WorkflowViewState.IdRef="Get_Machines_By_Folder_Path_1" in_OrchestratorAuth="[New OrchestratorAuth(in_ProcessSetup.Environment.OrchestratorAuth.OrchestratorURL, in_ProcessSetup.Environment.OrchestratorAuth.TenantName, true, in_ProcessSetup.Environment.OrchestratorAuth.UserName, in_ProcessSetup.Environment.OrchestratorAuth.Password, in_ProcessSetup.Environment.OrchestratorAuth.NewMethod)]" in_str_FolderPath="[item]" out_JArray_Machines="[jarray_Machines]">
                                                                                          <sap:WorkflowViewStateService.ViewState>
                                                                                            <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                                                                              <x:Boolean x:Key="IsAnnotationDocked">True</x:Boolean>
                                                                                            </scg:Dictionary>
                                                                                          </sap:WorkflowViewStateService.ViewState>
                                                                                        </hg:Get_Machines_By_Folder_Path>
                                                                                        <If Condition="[jarray_Machines.Where(function(x) x(&quot;data&quot;)(&quot;hostMachineName&quot;).ToString=Environment.MachineName).Count&gt;0]" sap:VirtualizedContainerService.HintSize="483.2,364.8" sap2010:WorkflowViewState.IdRef="If_25">
                                                                                          <If.Then>
                                                                                            <Sequence sap:VirtualizedContainerService.HintSize="304,215.2" sap2010:WorkflowViewState.IdRef="Sequence_148">
                                                                                              <sap:WorkflowViewStateService.ViewState>
                                                                                                <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                                                                                  <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                                                                                                </scg:Dictionary>
                                                                                              </sap:WorkflowViewStateService.ViewState>
                                                                                              <Assign sap:VirtualizedContainerService.HintSize="262.4,60" sap2010:WorkflowViewState.IdRef="Assign_177">
                                                                                                <Assign.To>
                                                                                                  <OutArgument x:TypeArguments="x:Boolean">[boo_StopJobBecauseOfUrgent]</OutArgument>
                                                                                                </Assign.To>
                                                                                                <Assign.Value>
                                                                                                  <InArgument x:TypeArguments="x:Boolean">True</InArgument>
                                                                                                </Assign.Value>
                                                                                              </Assign>
                                                                                              <ui:Break sap:VirtualizedContainerService.HintSize="262.4,22.4" sap2010:WorkflowViewState.IdRef="Break_4" />
                                                                                            </Sequence>
                                                                                          </If.Then>
                                                                                        </If>
                                                                                      </Sequence>
                                                                                    </ActivityAction>
                                                                                  </ui:ForEach.Body>
                                                                                </ui:ForEach>
                                                                              </FlowStep>
                                                                            </FlowStep.Next>
                                                                          </FlowStep>
                                                                        </FlowDecision.True>
                                                                      </FlowDecision>
                                                                    </FlowDecision.False>
                                                                  </FlowDecision>
                                                                </FlowStep.Next>
                                                              </FlowStep>
                                                            </FlowStep.Next>
                                                          </FlowStep>
                                                          <x:Reference>__ReferenceID8</x:Reference>
                                                          <x:Reference>__ReferenceID9</x:Reference>
                                                          <x:Reference>__ReferenceID10</x:Reference>
                                                          <x:Reference>__ReferenceID11</x:Reference>
                                                          <x:Reference>__ReferenceID12</x:Reference>
                                                          <x:Reference>__ReferenceID13</x:Reference>
                                                        </Flowchart>
                                                        <FlowStep.Next>
                                                          <x:Reference>__ReferenceID15</x:Reference>
                                                        </FlowStep.Next>
                                                      </FlowStep>
                                                      <x:Reference>__ReferenceID16</x:Reference>
                                                      <x:Reference>__ReferenceID17</x:Reference>
                                                      <x:Reference>__ReferenceID18</x:Reference>
                                                      <x:Reference>__ReferenceID19</x:Reference>
                                                      <x:Reference>__ReferenceID20</x:Reference>
                                                    </Flowchart>
                                                    <FlowStep.Next>
                                                      <FlowDecision x:Name="__ReferenceID27" Condition="[not boo_StopJobBecauseOfUrgent]" DisplayName="need to take another transaction?" sap:VirtualizedContainerService.HintSize="160,87" sap2010:WorkflowViewState.IdRef="FlowDecision_25" True="{x:Reference __ReferenceID22}">
                                                        <sap:WorkflowViewStateService.ViewState>
                                                          <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                                            <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                                                            <av:Point x:Key="ShapeLocation">330,726.4</av:Point>
                                                            <av:Size x:Key="ShapeSize">160,87</av:Size>
                                                            <av:PointCollection x:Key="FalseConnector">766.641666666667,1620.1 790,1620.1 790,1813.6 640,1813.6 640,1843.6</av:PointCollection>
                                                            <av:PointCollection x:Key="TrueConnector">330,770 300,770 300,890 530,890</av:PointCollection>
                                                          </scg:Dictionary>
                                                        </sap:WorkflowViewStateService.ViewState>
                                                      </FlowDecision>
                                                    </FlowStep.Next>
                                                  </FlowStep>
                                                </FlowDecision.True>
                                                <FlowDecision.False>
                                                  <FlowStep x:Name="__ReferenceID22">
                                                    <sap:WorkflowViewStateService.ViewState>
                                                      <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                                        <av:Point x:Key="ShapeLocation">530,863.6</av:Point>
                                                        <av:Size x:Key="ShapeSize">200,51</av:Size>
                                                      </scg:Dictionary>
                                                    </sap:WorkflowViewStateService.ViewState>
                                                    <TryCatch DisplayName="Try_Get next transaction item" sap:VirtualizedContainerService.HintSize="732,1660" sap2010:WorkflowViewState.IdRef="TryCatch_19">
                                                      <sap:WorkflowViewStateService.ViewState>
                                                        <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                                          <x:Boolean x:Key="IsExpanded">False</x:Boolean>
                                                          <x:Boolean x:Key="IsPinned">False</x:Boolean>
                                                        </scg:Dictionary>
                                                      </sap:WorkflowViewStateService.ViewState>
                                                      <TryCatch.Try>
                                                        <Sequence sap:VirtualizedContainerService.HintSize="694,1432" sap2010:WorkflowViewState.IdRef="Sequence_146">
                                                          <sap:WorkflowViewStateService.ViewState>
                                                            <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                                              <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                                                            </scg:Dictionary>
                                                          </sap:WorkflowViewStateService.ViewState>
                                                          <Sequence sap2010:Annotation.AnnotationText="Get a transaction item from Orchestrator queue.&#xA;&#xA;If there are no transaction items remaining, out_TransactionItem is set to Nothing, which leads to the End Process state. &#xA;&#xA;For cases in which there is only a single transaction (i.e., a linear process), use an If activity to check whether the argument in_TransactionNumber has the value 1 (meaning it is the first and only transaction) and assign the transaction item to out_TransactionItem. For any other value of in_TransactionNumber, out_TransactionItem should be set to Nothing.&#xA;&#xA;If there are multiple transactions, use the argument in_TransactionNumber as an index to retrieve the correct transaction to be processed. If there are no more transactions left, it is necessary to set out_TransactionItem to Nothing, thus ending the process." DisplayName="Get Transaction Data" sap:VirtualizedContainerService.HintSize="652,1340" sap2010:WorkflowViewState.IdRef="Sequence_145">
                                                            <sap:WorkflowViewStateService.ViewState>
                                                              <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                                                <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                                                                <x:Boolean x:Key="IsAnnotationDocked">True</x:Boolean>
                                                                <x:Boolean x:Key="IsPinned">False</x:Boolean>
                                                              </scg:Dictionary>
                                                            </sap:WorkflowViewStateService.ViewState>
                                                            <ui:GetQueueItem TimeoutMS="{x:Null}" sap2010:Annotation.AnnotationText="Get a transaction item from the specified Orchestrator queue.&#xA;If queues are not used in this process, replace this activity with the appropriated logic to retrieve transaction items.&#xA;For example, if transactions are rows from a DataTable, the row corresponding to the current transaction is retrieved at this point." ContinueOnError="False" DisplayName="Get transaction item" FolderPath="[IF(in_str_CustomOrchestratorQueueFolderPath&lt;&gt;&quot;&quot; and in_str_CustomOrchestratorQueueFolderPath isNot Nothing,in_str_CustomOrchestratorQueueFolderPath,in_ProcessSetup.BusinessProcess.OrchestratorFolderPath)]" sap:VirtualizedContainerService.HintSize="610,214" sap2010:WorkflowViewState.IdRef="GetQueueItem_4" QueueType="[in_str_QueueName]" TransactionItem="[tran_currentTranItem]">
                                                              <sap:WorkflowViewStateService.ViewState>
                                                                <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                                                  <x:Boolean x:Key="IsAnnotationDocked">True</x:Boolean>
                                                                </scg:Dictionary>
                                                              </sap:WorkflowViewStateService.ViewState>
                                                            </ui:GetQueueItem>
                                                            <If sap2010:Annotation.AnnotationText="" Condition="[tran_currentTranItem isNot Nothing]" DisplayName="If a new transaction item is retrieved" sap:VirtualizedContainerService.HintSize="610.4,787.2" sap2010:WorkflowViewState.IdRef="If_24">
                                                              <sap:WorkflowViewStateService.ViewState>
                                                                <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                                                  <x:Boolean x:Key="IsAnnotationDocked">True</x:Boolean>
                                                                </scg:Dictionary>
                                                              </sap:WorkflowViewStateService.ViewState>
                                                              <If.Then>
                                                                <Sequence sap2010:Annotation.AnnotationText="Clear exceptions+data dictionary" DisplayName="Clear exceptions+data dictionary" sap:VirtualizedContainerService.HintSize="304,596.8" sap2010:WorkflowViewState.IdRef="Sequence_144">
                                                                  <sap:WorkflowViewStateService.ViewState>
                                                                    <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                                                      <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                                                                      <x:Boolean x:Key="IsAnnotationDocked">True</x:Boolean>
                                                                    </scg:Dictionary>
                                                                  </sap:WorkflowViewStateService.ViewState>
                                                                  <Assign sap:VirtualizedContainerService.HintSize="262.4,60" sap2010:WorkflowViewState.IdRef="Assign_172">
                                                                    <Assign.To>
                                                                      <OutArgument x:TypeArguments="scg:Dictionary(x:String, x:Object)">[dic_str_obj_AllTransactionData]</OutArgument>
                                                                    </Assign.To>
                                                                    <Assign.Value>
                                                                      <InArgument x:TypeArguments="scg:Dictionary(x:String, x:Object)">[New Dictionary(Of String, Object) From {{"ExecuterJobGUID",in_ProcessSetup.Job.GUID}}]</InArgument>
                                                                    </Assign.Value>
                                                                  </Assign>
                                                                  <ClearCollection x:TypeArguments="s:Exception" Collection="[list_transactionSystemExceptions]" DisplayName="Clear Collection SystemExceptions" sap:VirtualizedContainerService.HintSize="262.4,22.4" sap2010:WorkflowViewState.IdRef="ClearCollection`1_7" />
                                                                  <ClearCollection x:TypeArguments="ui:BusinessRuleException" Collection="[list_transactionBusinessExceptions]" DisplayName="Clear Collection BusinessExceptions" sap:VirtualizedContainerService.HintSize="262.4,22.4" sap2010:WorkflowViewState.IdRef="ClearCollection`1_8" />
                                                                  <Assign sap2010:Annotation.AnnotationText="Raise that flag in case you want the transaction to be sent to action center" sap:VirtualizedContainerService.HintSize="262.4,104" sap2010:WorkflowViewState.IdRef="Assign_173">
                                                                    <Assign.To>
                                                                      <OutArgument x:TypeArguments="x:Boolean">[boo_SendTransactionToActionCenter]</OutArgument>
                                                                    </Assign.To>
                                                                    <Assign.Value>
                                                                      <InArgument x:TypeArguments="x:Boolean">False</InArgument>
                                                                    </Assign.Value>
                                                                    <sap:WorkflowViewStateService.ViewState>
                                                                      <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                                                        <x:Boolean x:Key="IsAnnotationDocked">True</x:Boolean>
                                                                      </scg:Dictionary>
                                                                    </sap:WorkflowViewStateService.ViewState>
                                                                  </Assign>
                                                                  <Assign sap2010:Annotation.AnnotationText="Raise that flag in case you postponed the transaction" sap:VirtualizedContainerService.HintSize="262.4,104" sap2010:WorkflowViewState.IdRef="Assign_174">
                                                                    <Assign.To>
                                                                      <OutArgument x:TypeArguments="x:Boolean">[boo_TransactionPostponed]</OutArgument>
                                                                    </Assign.To>
                                                                    <Assign.Value>
                                                                      <InArgument x:TypeArguments="x:Boolean">False</InArgument>
                                                                    </Assign.Value>
                                                                    <sap:WorkflowViewStateService.ViewState>
                                                                      <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                                                        <x:Boolean x:Key="IsAnnotationDocked">True</x:Boolean>
                                                                      </scg:Dictionary>
                                                                    </sap:WorkflowViewStateService.ViewState>
                                                                  </Assign>
                                                                </Sequence>
                                                              </If.Then>
                                                              <If.Else>
                                                                <Assign sap:VirtualizedContainerService.HintSize="262.4,60" sap2010:WorkflowViewState.IdRef="Assign_211">
                                                                  <Assign.To>
                                                                    <OutArgument x:TypeArguments="hm:JobEndedReason">[in_ProcessSetup.Job.EndedReason]</OutArgument>
                                                                  </Assign.To>
                                                                  <Assign.Value>
                                                                    <InArgument x:TypeArguments="hm:JobEndedReason">[JobEndedReason.NoMoreItemsInQueue]</InArgument>
                                                                  </Assign.Value>
                                                                </Assign>
                                                              </If.Else>
                                                            </If>
                                                          </Sequence>
                                                        </Sequence>
                                                      </TryCatch.Try>
                                                      <TryCatch.Catches>
                                                        <Catch x:TypeArguments="s:Exception" sap:VirtualizedContainerService.HintSize="696.8,22.4" sap2010:WorkflowViewState.IdRef="Catch`1_21">
                                                          <sap:WorkflowViewStateService.ViewState>
                                                            <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                                              <x:Boolean x:Key="IsExpanded">False</x:Boolean>
                                                              <x:Boolean x:Key="IsPinned">False</x:Boolean>
                                                            </scg:Dictionary>
                                                          </sap:WorkflowViewStateService.ViewState>
                                                          <ActivityAction x:TypeArguments="s:Exception">
                                                            <ActivityAction.Argument>
                                                              <DelegateInArgument x:TypeArguments="s:Exception" Name="exception" />
                                                            </ActivityAction.Argument>
                                                            <Sequence sap:VirtualizedContainerService.HintSize="324.8,389.6" sap2010:WorkflowViewState.IdRef="Sequence_147">
                                                              <sap:WorkflowViewStateService.ViewState>
                                                                <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                                                  <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                                                                </scg:Dictionary>
                                                              </sap:WorkflowViewStateService.ViewState>
                                                              <h:System_Exception_Generic in_str_ScreenshotComment="{x:Null}" DisplayName="System Exception Generic" sap:VirtualizedContainerService.HintSize="283.2,134.4" sap2010:WorkflowViewState.IdRef="System_Exception_Generic_14" in_ProcessSetup="[in_ProcessSetup]" in_exception="[exception]" in_logLevel="[LogLevel.Error]" in_needScreenshot="True" in_screenshotsFolderPath="[in_ProcessSetup.BusinessProcess.ScreenshotsFolderPath]" out_takenScreenshotFullPath="[str_takenScreenshotFullPath]" out_takenScreenshotNameOnly="[str_takenScreenshotNameOnly]" />
                                                              <AddToCollection x:TypeArguments="s:Exception" Collection="[out_list_jobSystemExceptions]" DisplayName="Add To Collection" sap:VirtualizedContainerService.HintSize="283.2,22.4" sap2010:WorkflowViewState.IdRef="AddToCollection`1_32" Item="[exception]" />
                                                              <Assign sap:VirtualizedContainerService.HintSize="283.2,60" sap2010:WorkflowViewState.IdRef="Assign_205">
                                                                <Assign.To>
                                                                  <OutArgument x:TypeArguments="hm:JobEndedReason">[in_ProcessSetup.Job.EndedReason]</OutArgument>
                                                                </Assign.To>
                                                                <Assign.Value>
                                                                  <InArgument x:TypeArguments="hm:JobEndedReason">[JobEndedReason.ErrorInGetOrPrepareNextTransaction]</InArgument>
                                                                </Assign.Value>
                                                              </Assign>
                                                            </Sequence>
                                                          </ActivityAction>
                                                        </Catch>
                                                      </TryCatch.Catches>
                                                    </TryCatch>
                                                  </FlowStep>
                                                </FlowDecision.False>
                                              </FlowDecision>
                                            </FlowDecision.False>
                                          </FlowDecision>
                                        </FlowStep.Next>
                                      </FlowStep>
                                    </FlowDecision.False>
                                  </FlowDecision>
                                </FlowStep.Next>
                              </FlowStep>
                            </FlowStep.Next>
                          </FlowStep>
                          <x:Reference>__ReferenceID23</x:Reference>
                          <x:Reference>__ReferenceID24</x:Reference>
                          <x:Reference>__ReferenceID25</x:Reference>
                          <x:Reference>__ReferenceID26</x:Reference>
                          <x:Reference>__ReferenceID22</x:Reference>
                          <x:Reference>__ReferenceID27</x:Reference>
                          <x:Reference>__ReferenceID28</x:Reference>
                          <x:Reference>__ReferenceID29</x:Reference>
                          <x:Reference>__ReferenceID30</x:Reference>
                          <x:Reference>__ReferenceID31</x:Reference>
                          <x:Reference>__ReferenceID32</x:Reference>
                        </Flowchart>
                      </State.Entry>
                      <sap:WorkflowViewStateService.ViewState>
                        <scg:Dictionary x:TypeArguments="x:String, x:Object">
                          <av:Point x:Key="ShapeLocation">910,299.333333333333</av:Point>
                          <av:Size x:Key="ShapeSize">136,155</av:Size>
                          <x:Boolean x:Key="IsPinned">False</x:Boolean>
                          <x:Double x:Key="StateContainerWidth">102.4</x:Double>
                          <x:Double x:Key="StateContainerHeight">119.19999999999999</x:Double>
                        </scg:Dictionary>
                      </sap:WorkflowViewStateService.ViewState>
                      <State.Transitions>
                        <Transition DisplayName="MoveOn" sap:VirtualizedContainerService.HintSize="448.8,509.6" sap2010:WorkflowViewState.IdRef="Transition_29">
                          <sap:WorkflowViewStateService.ViewState>
                            <scg:Dictionary x:TypeArguments="x:String, x:Object">
                              <av:PointCollection x:Key="ConnectorLocation">910,377.333333333333 880,377.333333333333 880,267.8 840,267.8</av:PointCollection>
                              <x:Int32 x:Key="SrcConnectionPointIndex">37</x:Int32>
                              <x:Int32 x:Key="DestConnectionPointIndex">12</x:Int32>
                            </scg:Dictionary>
                          </sap:WorkflowViewStateService.ViewState>
                          <Transition.Condition>
                            <mva:VisualBasicValue x:TypeArguments="x:Boolean" ExpressionText="tran_currentTranItem IsNot Nothing" sap2010:WorkflowViewState.IdRef="VisualBasicValue`1_8" />
                          </Transition.Condition>
                          <Transition.To>
                            <State x:Name="__ReferenceID52" sap2010:Annotation.AnnotationText="בכל מקרה של שגיאה (עסקית או טכנית) שבגינה נרצה להפסיק מיד את הטיפול ברשומה נשתמש ב&#xA; Throw&#xA;למשל:&#xA;Throw new BusinessRuleException(&quot;Customer doesn't exist&quot;).&#xA;בכל מקרה של שגיאה (טכנית או עסקית) בגינה נרצה להמשיך ולהשאר בתוך ה-State הגדול נשתמש ב&#xA;Add to collection" DisplayName="State_Execute Transaction" sap:VirtualizedContainerService.HintSize="300,223" sap2010:WorkflowViewState.IdRef="State_13">
                              <State.Entry>
                                <TryCatch DisplayName="Try_Execute transation" sap:VirtualizedContainerService.HintSize="968,1094" sap2010:WorkflowViewState.IdRef="TryCatch_23">
                                  <sap:WorkflowViewStateService.ViewState>
                                    <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                      <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                                      <x:Boolean x:Key="IsPinned">False</x:Boolean>
                                    </scg:Dictionary>
                                  </sap:WorkflowViewStateService.ViewState>
                                  <TryCatch.Try>
                                    <Sequence DisplayName="Sequence_Execute Transaction" sap:VirtualizedContainerService.HintSize="376,803" sap2010:WorkflowViewState.IdRef="Sequence_150">
                                      <Sequence.Variables>
                                        <Variable x:TypeArguments="njl:JValue" Name="temp" />
                                      </Sequence.Variables>
                                      <sap:WorkflowViewStateService.ViewState>
                                        <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                          <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                                          <x:Boolean x:Key="IsPinned">False</x:Boolean>
                                        </scg:Dictionary>
                                      </sap:WorkflowViewStateService.ViewState>
                                      <Assign sap:VirtualizedContainerService.HintSize="334,60" sap2010:WorkflowViewState.IdRef="Assign_203">
                                        <Assign.To>
                                          <OutArgument x:TypeArguments="x:Object">[dic_str_obj_AllTransactionData("LogF_TransactionProgress")]</OutArgument>
                                        </Assign.To>
                                        <Assign.Value>
                                          <InArgument x:TypeArguments="x:Object">[tran_currentTranItem.Progress]</InArgument>
                                        </Assign.Value>
                                      </Assign>
                                      <ui:RemoveLogFields DisplayName="Remove Log Fields" sap:VirtualizedContainerService.HintSize="334,22" sap2010:WorkflowViewState.IdRef="RemoveLogFields_3">
                                        <ui:RemoveLogFields.Fields>
                                          <scg:List x:TypeArguments="InArgument(x:String)" Capacity="16">
                                            <InArgument x:TypeArguments="x:String">queueName</InArgument>
                                          </scg:List>
                                        </ui:RemoveLogFields.Fields>
                                        <sap:WorkflowViewStateService.ViewState>
                                          <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                            <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                                          </scg:Dictionary>
                                        </sap:WorkflowViewStateService.ViewState>
                                      </ui:RemoveLogFields>
                                      <ui:AddLogFields sap2010:Annotation.AnnotationText="This activity ensure that from now on, the transaction data will be added to logs " DisplayName="Add TransactionData to LogField" sap:VirtualizedContainerService.HintSize="334,79" sap2010:WorkflowViewState.IdRef="AddLogFields_5">
                                        <ui:AddLogFields.Fields>
                                          <InArgument x:TypeArguments="scg:Dictionary(x:String, x:Object)" x:Key="LogF_AllTransactionData">[dic_str_obj_AllTransactionData]</InArgument>
                                          <InArgument x:TypeArguments="scg:Dictionary(x:String, x:Object)" x:Key="LogF_TransactionSpecificContent">[tran_currentTranItem.SpecificContent]</InArgument>
                                          <InArgument x:TypeArguments="x:String" x:Key="LogF_TransactionReference">[tran_currentTranItem.Reference]</InArgument>
                                          <InArgument x:TypeArguments="x:String" x:Key="LogF_TransactionStartDateTime">[Convert.ToDateTime(tran_currentTranItem.StartTransactionTime).AddHours((DateTime.UtcNow-DateTime.Now).Hours).ToString("yyyy-MM-ddTHH:mm:ss.fffZ")]</InArgument>
                                          <InArgument x:TypeArguments="x:Int64" x:Key="LogF_TransactionId">[Convert.ToInt64(tran_currentTranItem.Id)]</InArgument>
                                          <InArgument x:TypeArguments="x:String" x:Key="LogF_TransactionKey">[tran_currentTranItem.ItemKey.ToString]</InArgument>
                                          <InArgument x:TypeArguments="x:Int64" x:Key="LogF_QueueDefinitionId">[tran_currentTranItem.QueueDefinitionId]</InArgument>
                                          <InArgument x:TypeArguments="x:Int32" x:Key="LogF_TransactionRetryNo">[tran_currentTranItem.RetryNo]</InArgument>
                                          <InArgument x:TypeArguments="x:String" x:Key="LogF_TransactionPriority">[tran_currentTranItem.Priority.ToString]</InArgument>
                                        </ui:AddLogFields.Fields>
                                        <sap:WorkflowViewStateService.ViewState>
                                          <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                            <x:Boolean x:Key="IsAnnotationDocked">True</x:Boolean>
                                          </scg:Dictionary>
                                        </sap:WorkflowViewStateService.ViewState>
                                      </ui:AddLogFields>
                                      <ui:LogMessage DisplayName="Log Message" sap:VirtualizedContainerService.HintSize="334,91" sap2010:WorkflowViewState.IdRef="LogMessage_28" Level="Info" Message="[&quot;Transaction started. Reference: &quot;+tran_currentTranItem.Reference+vbCr+&quot;Priority: &quot;+tran_currentTranItem.Priority.ToString+vbCr+&quot;Queue name: &quot;+tran_currentTranItem.QueueName+vbCr+&quot;Progress: &quot;+tran_currentTranItem.Progress+vbCr+&quot;RetryNo: &quot;+tran_currentTranItem.RetryNo.ToString+vbCr+&quot;Specific content: &quot;+vbCr+Newtonsoft.Json.JsonConvert.SerializeObject(tran_currentTranItem.SpecificContent)]">
                                        <sap:WorkflowViewStateService.ViewState>
                                          <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                            <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                                          </scg:Dictionary>
                                        </sap:WorkflowViewStateService.ViewState>
                                      </ui:LogMessage>
                                      <ui:InvokeWorkflowFile ArgumentsVariable="{x:Null}" ContinueOnError="{x:Null}" DisplayName="Invoke ExecuteTransation workflow" sap:VirtualizedContainerService.HintSize="334,112" sap2010:WorkflowViewState.IdRef="InvokeWorkflowFile_45" LogEntry="No" LogExit="No" UnSafe="False" WorkflowFileName="ExecuteTransaction.xaml">
                                        <ui:InvokeWorkflowFile.Arguments>
                                          <InOutArgument x:TypeArguments="ui:QueueItem" x:Key="io_currentTranItem">[tran_currentTranItem]</InOutArgument>
                                          <InOutArgument x:TypeArguments="scg:List(s:Exception)" x:Key="io_list_transactionSystemExceptions">[list_transactionSystemExceptions]</InOutArgument>
                                          <InOutArgument x:TypeArguments="scg:List(ui:BusinessRuleException)" x:Key="io_list_transactionBusinessExceptions">[list_transactionBusinessExceptions]</InOutArgument>
                                          <InOutArgument x:TypeArguments="scg:Dictionary(x:String, x:Object)" x:Key="io_dic_AllTransactionData">[dic_str_obj_AllTransactionData]</InOutArgument>
                                          <InArgument x:TypeArguments="x:Int32" x:Key="in_int_HandledTransactionsCount">[int_handledTransactionsCounter]</InArgument>
                                          <InOutArgument x:TypeArguments="x:Boolean" x:Key="io_boo_SendTransactionToActionCenter">[boo_SendTransactionToActionCenter]</InOutArgument>
                                          <InOutArgument x:TypeArguments="x:Boolean" x:Key="io_boo_TransactionPostponed">[boo_TransactionPostponed]</InOutArgument>
                                          <InOutArgument x:TypeArguments="hm:ProcessSetup" x:Key="io_ProcessSetup">[in_ProcessSetup]</InOutArgument>
                                        </ui:InvokeWorkflowFile.Arguments>
                                      </ui:InvokeWorkflowFile>
                                      <Assign sap2010:Annotation.AnnotationText="This activity is here for cases we kill the job during a transaction execution. the robot will go to the finally block and we have to ensure the transaction ended successfuly" DisplayName="Assign boo_TransactionSuccess" sap:VirtualizedContainerService.HintSize="334,147" sap2010:WorkflowViewState.IdRef="Assign_181">
                                        <Assign.To>
                                          <OutArgument x:TypeArguments="x:Boolean">[boo_TransactionCompleted]</OutArgument>
                                        </Assign.To>
                                        <Assign.Value>
                                          <InArgument x:TypeArguments="x:Boolean">True</InArgument>
                                        </Assign.Value>
                                        <sap:WorkflowViewStateService.ViewState>
                                          <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                            <x:Boolean x:Key="IsAnnotationDocked">True</x:Boolean>
                                          </scg:Dictionary>
                                        </sap:WorkflowViewStateService.ViewState>
                                      </Assign>
                                    </Sequence>
                                  </TryCatch.Try>
                                  <TryCatch.Catches>
                                    <Catch x:TypeArguments="s:Exception" sap:VirtualizedContainerService.HintSize="933.6,22.4" sap2010:WorkflowViewState.IdRef="Catch`1_23">
                                      <sap:WorkflowViewStateService.ViewState>
                                        <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                          <x:Boolean x:Key="IsExpanded">False</x:Boolean>
                                          <x:Boolean x:Key="IsPinned">False</x:Boolean>
                                        </scg:Dictionary>
                                      </sap:WorkflowViewStateService.ViewState>
                                      <ActivityAction x:TypeArguments="s:Exception">
                                        <ActivityAction.Argument>
                                          <DelegateInArgument x:TypeArguments="s:Exception" Name="exception" />
                                        </ActivityAction.Argument>
                                        <Sequence sap2010:Annotation.AnnotationText="We came here because of a transaction system exception" DisplayName="Catch(system)_Execute transation" sap:VirtualizedContainerService.HintSize="478.4,1211.2" sap2010:WorkflowViewState.IdRef="Sequence_152">
                                          <sap:WorkflowViewStateService.ViewState>
                                            <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                              <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                                              <x:Boolean x:Key="IsPinned">False</x:Boolean>
                                              <x:Boolean x:Key="IsAnnotationDocked">True</x:Boolean>
                                            </scg:Dictionary>
                                          </sap:WorkflowViewStateService.ViewState>
                                          <h:System_Exception_Generic DisplayName="System Exception Generic" sap:VirtualizedContainerService.HintSize="436.8,134.4" sap2010:WorkflowViewState.IdRef="System_Exception_Generic_15" in_ProcessSetup="[in_ProcessSetup]" in_exception="[exception]" in_logLevel="[LogLevel.Error]" in_needScreenshot="[IF(exception.Data.Contains(&quot;NeedScreenshot&quot;) AndAlso not Convert.ToBoolean(exception.Data(&quot;NeedScreenshot&quot;)),false,true)]" in_screenshotsFolderPath="[in_ProcessSetup.BusinessProcess.ScreenshotsFolderPath]" in_str_ScreenshotComment="[string.Concat(tran_currentTranItem.Reference.Split(Path.GetInvalidFileNameChars))]" out_takenScreenshotFullPath="[str_takenScreenshotFullPath]" out_takenScreenshotNameOnly="[str_takenScreenshotNameOnly]" />
                                          <Assign sap:VirtualizedContainerService.HintSize="436.8,60" sap2010:WorkflowViewState.IdRef="Assign_200">
                                            <Assign.To>
                                              <OutArgument x:TypeArguments="x:Object">[dic_str_obj_AllTransactionData("ExceptionScreenshot")]</OutArgument>
                                            </Assign.To>
                                            <Assign.Value>
                                              <InArgument x:TypeArguments="x:Object">[str_takenScreenshotFullPath]</InArgument>
                                            </Assign.Value>
                                          </Assign>
                                          <AddToCollection x:TypeArguments="s:Exception" Collection="[list_transactionSystemExceptions]" DisplayName="Add To Collection" sap:VirtualizedContainerService.HintSize="436.8,22.4" sap2010:WorkflowViewState.IdRef="AddToCollection`1_33" Item="[exception]" />
                                          <TryCatch DisplayName="Try Catch" sap:VirtualizedContainerService.HintSize="436.8,344.8" sap2010:WorkflowViewState.IdRef="TryCatch_20">
                                            <TryCatch.Try>
                                              <ui:InvokeWorkflowFile ArgumentsVariable="{x:Null}" ContinueOnError="{x:Null}" DisplayName="Invoke Transaction System Exception workflow" sap:VirtualizedContainerService.HintSize="378.4,113.6" sap2010:WorkflowViewState.IdRef="InvokeWorkflowFile_46" LogEntry="No" LogExit="No" UnSafe="False" WorkflowFileName="TransactionExceptions\TransactionSystemException.xaml">
                                                <ui:InvokeWorkflowFile.Arguments>
                                                  <InOutArgument x:TypeArguments="hm:ProcessSetup" x:Key="io_ProcessSetup">[in_ProcessSetup]</InOutArgument>
                                                  <InOutArgument x:TypeArguments="ui:QueueItem" x:Key="io_tran_CurrentTranItem">[tran_currentTranItem]</InOutArgument>
                                                  <InOutArgument x:TypeArguments="s:Exception" x:Key="io_exception">[exception]</InOutArgument>
                                                  <InOutArgument x:TypeArguments="scg:Dictionary(x:String, x:Object)" x:Key="io_dic_AllTransactionData">[dic_str_obj_AllTransactionData]</InOutArgument>
                                                  <InOutArgument x:TypeArguments="scg:List(ui:BusinessRuleException)" x:Key="io_list_transactionBusinessExceptions">[list_transactionBusinessExceptions]</InOutArgument>
                                                  <InOutArgument x:TypeArguments="scg:List(s:Exception)" x:Key="io_list_transactionSystemExceptions">[list_transactionSystemExceptions]</InOutArgument>
                                                  <InArgument x:TypeArguments="x:Int32" x:Key="in_int_handledTransactionsCounter">[int_handledTransactionsCounter]</InArgument>
                                                </ui:InvokeWorkflowFile.Arguments>
                                              </ui:InvokeWorkflowFile>
                                            </TryCatch.Try>
                                            <TryCatch.Catches>
                                              <Catch x:TypeArguments="s:Exception" sap:VirtualizedContainerService.HintSize="403.2,22.4" sap2010:WorkflowViewState.IdRef="Catch`1_22">
                                                <sap:WorkflowViewStateService.ViewState>
                                                  <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                                    <x:Boolean x:Key="IsExpanded">False</x:Boolean>
                                                    <x:Boolean x:Key="IsPinned">False</x:Boolean>
                                                  </scg:Dictionary>
                                                </sap:WorkflowViewStateService.ViewState>
                                                <ActivityAction x:TypeArguments="s:Exception">
                                                  <ActivityAction.Argument>
                                                    <DelegateInArgument x:TypeArguments="s:Exception" Name="exception2" />
                                                  </ActivityAction.Argument>
                                                  <Sequence sap2010:Annotation.AnnotationText="We came here after we failed commiting some actions after a transaction system exception" sap:VirtualizedContainerService.HintSize="325.6,365.6" sap2010:WorkflowViewState.IdRef="Sequence_151">
                                                    <sap:WorkflowViewStateService.ViewState>
                                                      <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                                        <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                                                        <x:Boolean x:Key="IsAnnotationDocked">True</x:Boolean>
                                                      </scg:Dictionary>
                                                    </sap:WorkflowViewStateService.ViewState>
                                                    <h:System_Exception_Generic in_str_ScreenshotComment="{x:Null}" DisplayName="System Exception Generic" sap:VirtualizedContainerService.HintSize="284,134.4" sap2010:WorkflowViewState.IdRef="System_Exception_Generic_16" in_ProcessSetup="[in_ProcessSetup]" in_exception="[exception]" in_logLevel="[LogLevel.Error]" in_needScreenshot="True" in_screenshotsFolderPath="[in_ProcessSetup.BusinessProcess.ScreenshotsFolderPath]" out_takenScreenshotFullPath="[str_takenScreenshotFullPath]" out_takenScreenshotNameOnly="[str_takenScreenshotNameOnly]" />
                                                    <AddToCollection x:TypeArguments="s:Exception" Collection="[list_transactionSystemExceptions]" DisplayName="Add To Collection" sap:VirtualizedContainerService.HintSize="284,22.4" sap2010:WorkflowViewState.IdRef="AddToCollection`1_34" Item="[exception2]" />
                                                  </Sequence>
                                                </ActivityAction>
                                              </Catch>
                                            </TryCatch.Catches>
                                          </TryCatch>
                                        </Sequence>
                                      </ActivityAction>
                                    </Catch>
                                    <Catch x:TypeArguments="ui:BusinessRuleException" sap:VirtualizedContainerService.HintSize="933.6,22.4" sap2010:WorkflowViewState.IdRef="Catch`1_25">
                                      <sap:WorkflowViewStateService.ViewState>
                                        <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                          <x:Boolean x:Key="IsExpanded">False</x:Boolean>
                                          <x:Boolean x:Key="IsPinned">False</x:Boolean>
                                        </scg:Dictionary>
                                      </sap:WorkflowViewStateService.ViewState>
                                      <ActivityAction x:TypeArguments="ui:BusinessRuleException">
                                        <ActivityAction.Argument>
                                          <DelegateInArgument x:TypeArguments="ui:BusinessRuleException" Name="exception" />
                                        </ActivityAction.Argument>
                                        <Sequence DisplayName="Catch(business)_Execute Transaction" sap:VirtualizedContainerService.HintSize="478.4,620.8" sap2010:WorkflowViewState.IdRef="Sequence_154">
                                          <sap:WorkflowViewStateService.ViewState>
                                            <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                              <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                                              <x:Boolean x:Key="IsPinned">False</x:Boolean>
                                            </scg:Dictionary>
                                          </sap:WorkflowViewStateService.ViewState>
                                          <h:Business_Exception_Generic DisplayName="Business Exception Generic" sap:VirtualizedContainerService.HintSize="436.8,22.4" sap2010:WorkflowViewState.IdRef="Business_Exception_Generic_2" in_ProcessSetup="[in_ProcessSetup]" in_exception="[exception]" in_logLevel="[LogLevel.Error]" in_needScreenshot="[IF(exception.Data.Contains(&quot;NeedScreenshot&quot;) AndAlso not Convert.ToBoolean(exception.Data(&quot;NeedScreenshot&quot;)),false,true)]" in_screenshotsFolderPath="[in_ProcessSetup.BusinessProcess.ScreenshotsFolderPath]" in_str_ScreenshotComment="[string.Concat(tran_currentTranItem.Reference.Split(Path.GetInvalidFileNameChars))]" out_takenScreenshotFullPath="[str_takenScreenshotFullPath]" out_takenScreenshotNameOnly="[str_takenScreenshotNameOnly]" />
                                          <Assign sap:VirtualizedContainerService.HintSize="436.8,60" sap2010:WorkflowViewState.IdRef="Assign_201">
                                            <Assign.To>
                                              <OutArgument x:TypeArguments="x:Object">[dic_str_obj_AllTransactionData("ExceptionScreenshot")]</OutArgument>
                                            </Assign.To>
                                            <Assign.Value>
                                              <InArgument x:TypeArguments="x:Object">[str_takenScreenshotFullPath]</InArgument>
                                            </Assign.Value>
                                          </Assign>
                                          <AddToCollection x:TypeArguments="ui:BusinessRuleException" Collection="[list_transactionBusinessExceptions]" DisplayName="Add To Collection" sap:VirtualizedContainerService.HintSize="436.8,22.4" sap2010:WorkflowViewState.IdRef="AddToCollection`1_35" Item="[exception]" />
                                          <TryCatch DisplayName="Try Catch" sap:VirtualizedContainerService.HintSize="436.8,344.8" sap2010:WorkflowViewState.IdRef="TryCatch_21">
                                            <TryCatch.Try>
                                              <ui:InvokeWorkflowFile ArgumentsVariable="{x:Null}" ContinueOnError="{x:Null}" DisplayName="Invoke Transaction Business Exception workflow" sap:VirtualizedContainerService.HintSize="378.4,113.6" sap2010:WorkflowViewState.IdRef="InvokeWorkflowFile_47" LogEntry="No" LogExit="No" UnSafe="False" WorkflowFileName="TransactionExceptions\TransactionBusinessException.xaml">
                                                <ui:InvokeWorkflowFile.Arguments>
                                                  <InArgument x:TypeArguments="x:Int32" x:Key="in_int_handledTransactionsCounter">[int_handledTransactionsCounter]</InArgument>
                                                  <InOutArgument x:TypeArguments="hm:ProcessSetup" x:Key="io_ProcessSetup">[in_ProcessSetup]</InOutArgument>
                                                  <InOutArgument x:TypeArguments="ui:QueueItem" x:Key="io_tran_CurrentTranItem">[tran_currentTranItem]</InOutArgument>
                                                  <InOutArgument x:TypeArguments="ui:BusinessRuleException" x:Key="io_exception">[exception]</InOutArgument>
                                                  <InOutArgument x:TypeArguments="scg:Dictionary(x:String, x:Object)" x:Key="io_dic_AllTransactionData">[dic_str_obj_AllTransactionData]</InOutArgument>
                                                  <InOutArgument x:TypeArguments="scg:List(ui:BusinessRuleException)" x:Key="io_list_transactionBusinessExceptions">[list_transactionBusinessExceptions]</InOutArgument>
                                                  <InOutArgument x:TypeArguments="scg:List(s:Exception)" x:Key="io_list_transactionSystemExceptions">[list_transactionSystemExceptions]</InOutArgument>
                                                </ui:InvokeWorkflowFile.Arguments>
                                              </ui:InvokeWorkflowFile>
                                            </TryCatch.Try>
                                            <TryCatch.Catches>
                                              <Catch x:TypeArguments="s:Exception" sap:VirtualizedContainerService.HintSize="403.2,22.4" sap2010:WorkflowViewState.IdRef="Catch`1_24">
                                                <sap:WorkflowViewStateService.ViewState>
                                                  <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                                    <x:Boolean x:Key="IsExpanded">False</x:Boolean>
                                                    <x:Boolean x:Key="IsPinned">False</x:Boolean>
                                                  </scg:Dictionary>
                                                </sap:WorkflowViewStateService.ViewState>
                                                <ActivityAction x:TypeArguments="s:Exception">
                                                  <ActivityAction.Argument>
                                                    <DelegateInArgument x:TypeArguments="s:Exception" Name="exception2" />
                                                  </ActivityAction.Argument>
                                                  <Sequence sap2010:Annotation.AnnotationText="We came here after we failed commiting some actions after a transaction business exception" DisplayName="Catch(system)_Execute transation" sap:VirtualizedContainerService.HintSize="480,1249.6" sap2010:WorkflowViewState.IdRef="Sequence_191">
                                                    <sap:WorkflowViewStateService.ViewState>
                                                      <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                                        <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                                                        <x:Boolean x:Key="IsPinned">False</x:Boolean>
                                                        <x:Boolean x:Key="IsAnnotationDocked">True</x:Boolean>
                                                      </scg:Dictionary>
                                                    </sap:WorkflowViewStateService.ViewState>
                                                    <h:System_Exception_Generic DisplayName="System Exception Generic" sap:VirtualizedContainerService.HintSize="438.4,134.4" sap2010:WorkflowViewState.IdRef="System_Exception_Generic_23" in_ProcessSetup="[in_ProcessSetup]" in_exception="[exception2]" in_logLevel="[LogLevel.Error]" in_needScreenshot="[IF(exception.Data.Contains(&quot;NeedScreenshot&quot;) AndAlso not Convert.ToBoolean(exception.Data(&quot;NeedScreenshot&quot;)),false,true)]" in_screenshotsFolderPath="[in_ProcessSetup.BusinessProcess.ScreenshotsFolderPath]" in_str_ScreenshotComment="[string.Concat(tran_currentTranItem.Reference.Split(Path.GetInvalidFileNameChars))]" out_takenScreenshotFullPath="[str_takenScreenshotFullPath]" out_takenScreenshotNameOnly="[str_takenScreenshotNameOnly]" />
                                                    <Assign sap:VirtualizedContainerService.HintSize="438.4,60" sap2010:WorkflowViewState.IdRef="Assign_212">
                                                      <Assign.To>
                                                        <OutArgument x:TypeArguments="x:Object">[dic_str_obj_AllTransactionData("ExceptionScreenshot")]</OutArgument>
                                                      </Assign.To>
                                                      <Assign.Value>
                                                        <InArgument x:TypeArguments="x:Object">[str_takenScreenshotFullPath]</InArgument>
                                                      </Assign.Value>
                                                    </Assign>
                                                    <AddToCollection x:TypeArguments="s:Exception" Collection="[list_transactionSystemExceptions]" DisplayName="Add To Collection" sap:VirtualizedContainerService.HintSize="438.4,22.4" sap2010:WorkflowViewState.IdRef="AddToCollection`1_47" Item="[exception]" />
                                                    <TryCatch DisplayName="Try Catch" sap:VirtualizedContainerService.HintSize="438.4,344.8" sap2010:WorkflowViewState.IdRef="TryCatch_28">
                                                      <TryCatch.Try>
                                                        <ui:InvokeWorkflowFile ArgumentsVariable="{x:Null}" ContinueOnError="{x:Null}" DisplayName="Invoke Transaction System Exception workflow" sap:VirtualizedContainerService.HintSize="378.4,113.6" sap2010:WorkflowViewState.IdRef="InvokeWorkflowFile_64" LogEntry="No" LogExit="No" UnSafe="False" WorkflowFileName="TransactionExceptions\TransactionSystemException.xaml">
                                                          <ui:InvokeWorkflowFile.Arguments>
                                                            <InOutArgument x:TypeArguments="hm:ProcessSetup" x:Key="io_ProcessSetup">[in_ProcessSetup]</InOutArgument>
                                                            <InOutArgument x:TypeArguments="ui:QueueItem" x:Key="io_tran_CurrentTranItem">[tran_currentTranItem]</InOutArgument>
                                                            <InOutArgument x:TypeArguments="s:Exception" x:Key="io_exception">[exception2]</InOutArgument>
                                                            <InOutArgument x:TypeArguments="scg:Dictionary(x:String, x:Object)" x:Key="io_dic_AllTransactionData">[dic_str_obj_AllTransactionData]</InOutArgument>
                                                            <InOutArgument x:TypeArguments="scg:List(ui:BusinessRuleException)" x:Key="io_list_transactionBusinessExceptions">[list_transactionBusinessExceptions]</InOutArgument>
                                                            <InOutArgument x:TypeArguments="scg:List(s:Exception)" x:Key="io_list_transactionSystemExceptions">[list_transactionSystemExceptions]</InOutArgument>
                                                            <InArgument x:TypeArguments="x:Int32" x:Key="in_int_handledTransactionsCounter">[int_handledTransactionsCounter]</InArgument>
                                                          </ui:InvokeWorkflowFile.Arguments>
                                                        </ui:InvokeWorkflowFile>
                                                      </TryCatch.Try>
                                                      <TryCatch.Catches>
                                                        <Catch x:TypeArguments="s:Exception" sap:VirtualizedContainerService.HintSize="403.2,22.4" sap2010:WorkflowViewState.IdRef="Catch`1_31">
                                                          <sap:WorkflowViewStateService.ViewState>
                                                            <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                                              <x:Boolean x:Key="IsExpanded">False</x:Boolean>
                                                              <x:Boolean x:Key="IsPinned">False</x:Boolean>
                                                            </scg:Dictionary>
                                                          </sap:WorkflowViewStateService.ViewState>
                                                          <ActivityAction x:TypeArguments="s:Exception">
                                                            <ActivityAction.Argument>
                                                              <DelegateInArgument x:TypeArguments="s:Exception" Name="exception3" />
                                                            </ActivityAction.Argument>
                                                            <Sequence sap2010:Annotation.AnnotationText="We came here after we failed commiting some actions after a transaction system exception, that happend when we tried commiting after a transaction business exception" sap:VirtualizedContainerService.HintSize="325.6,397.6" sap2010:WorkflowViewState.IdRef="Sequence_190">
                                                              <sap:WorkflowViewStateService.ViewState>
                                                                <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                                                  <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                                                                  <x:Boolean x:Key="IsAnnotationDocked">True</x:Boolean>
                                                                </scg:Dictionary>
                                                              </sap:WorkflowViewStateService.ViewState>
                                                              <h:System_Exception_Generic in_str_ScreenshotComment="{x:Null}" DisplayName="System Exception Generic" sap:VirtualizedContainerService.HintSize="284,134.4" sap2010:WorkflowViewState.IdRef="System_Exception_Generic_24" in_ProcessSetup="[in_ProcessSetup]" in_exception="[exception3]" in_logLevel="[LogLevel.Error]" in_needScreenshot="True" in_screenshotsFolderPath="[in_ProcessSetup.BusinessProcess.ScreenshotsFolderPath]" out_takenScreenshotFullPath="[str_takenScreenshotFullPath]" out_takenScreenshotNameOnly="[str_takenScreenshotNameOnly]" />
                                                              <AddToCollection x:TypeArguments="s:Exception" Collection="[list_transactionSystemExceptions]" DisplayName="Add To Collection" sap:VirtualizedContainerService.HintSize="284,22.4" sap2010:WorkflowViewState.IdRef="AddToCollection`1_48" Item="[exception3]" />
                                                            </Sequence>
                                                          </ActivityAction>
                                                        </Catch>
                                                      </TryCatch.Catches>
                                                    </TryCatch>
                                                  </Sequence>
                                                </ActivityAction>
                                              </Catch>
                                            </TryCatch.Catches>
                                          </TryCatch>
                                        </Sequence>
                                      </ActivityAction>
                                    </Catch>
                                  </TryCatch.Catches>
                                  <TryCatch.Finally>
                                    <Sequence sap:VirtualizedContainerService.HintSize="930.4,2070.4" sap2010:WorkflowViewState.IdRef="Sequence_182">
                                      <sap:WorkflowViewStateService.ViewState>
                                        <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                          <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                                        </scg:Dictionary>
                                      </sap:WorkflowViewStateService.ViewState>
                                      <Assign sap:VirtualizedContainerService.HintSize="888.8,60" sap2010:WorkflowViewState.IdRef="Assign_184">
                                        <Assign.To>
                                          <OutArgument x:TypeArguments="x:Int32">[int_handledTransactionsCounter]</OutArgument>
                                        </Assign.To>
                                        <Assign.Value>
                                          <InArgument x:TypeArguments="x:Int32">[int_handledTransactionsCounter+1]</InArgument>
                                        </Assign.Value>
                                      </Assign>
                                      <AddToCollection x:TypeArguments="x:Int64" Collection="[in_ProcessSetup.Job.TransactionIDs]" DisplayName="Add To Collection" sap:VirtualizedContainerService.HintSize="888.8,22.4" sap2010:WorkflowViewState.IdRef="AddToCollection`1_40" Item="[Convert.ToInt64(tran_currentTranItem.Id)]" />
                                      <AddToCollection x:TypeArguments="x:Int64" Collection="[CType(in_ProcessSetup.Job.CustomData(&quot;TransactionIDs&quot;),List(Of Int64))]" DisplayName="Add To Collection" sap:VirtualizedContainerService.HintSize="888.8,22.4" sap2010:WorkflowViewState.IdRef="AddToCollection`1_41" Item="[Convert.ToInt64(tran_currentTranItem.Id)]" />
                                      <If sap2010:Annotation.AnnotationText="If the transaction had been postponed during execution,  we'll not set transaction status" Condition="[not boo_TransactionPostponed]" DisplayName="If may report tran status at this point" sap:VirtualizedContainerService.HintSize="888.8,1690.4" sap2010:WorkflowViewState.IdRef="If_33">
                                        <sap:WorkflowViewStateService.ViewState>
                                          <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                            <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                                            <x:Boolean x:Key="IsPinned">False</x:Boolean>
                                            <x:Boolean x:Key="IsAnnotationDocked">True</x:Boolean>
                                          </scg:Dictionary>
                                        </sap:WorkflowViewStateService.ViewState>
                                        <If.Then>
                                          <Sequence sap:VirtualizedContainerService.HintSize="853.6,1470.4" sap2010:WorkflowViewState.IdRef="Sequence_165">
                                            <sap:WorkflowViewStateService.ViewState>
                                              <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                                <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                                                <x:Boolean x:Key="IsPinned">False</x:Boolean>
                                              </scg:Dictionary>
                                            </sap:WorkflowViewStateService.ViewState>
                                            <TryCatch DisplayName="Try Catch" sap:VirtualizedContainerService.HintSize="812,1377.6" sap2010:WorkflowViewState.IdRef="TryCatch_32">
                                              <TryCatch.Try>
                                                <Sequence sap:VirtualizedContainerService.HintSize="775.2,1146.4" sap2010:WorkflowViewState.IdRef="Sequence_213">
                                                  <sap:WorkflowViewStateService.ViewState>
                                                    <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                                      <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                                                    </scg:Dictionary>
                                                  </sap:WorkflowViewStateService.ViewState>
                                                  <Flowchart DisplayName="Flowchart_Set Transaction Status" sap:VirtualizedContainerService.HintSize="733.6,900" sap2010:WorkflowViewState.IdRef="Flowchart_22">
                                                    <sap:WorkflowViewStateService.ViewState>
                                                      <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                                        <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                                                        <av:Point x:Key="ShapeLocation">30,0</av:Point>
                                                        <av:Size x:Key="ShapeSize">60,75.2</av:Size>
                                                        <av:PointCollection x:Key="ConnectorLocation">90,37.6 120,37.6 120,38.8 130,38.8</av:PointCollection>
                                                        <x:Double x:Key="Width">700</x:Double>
                                                        <x:Boolean x:Key="IsPinned">False</x:Boolean>
                                                        <x:Double x:Key="Height">863</x:Double>
                                                      </scg:Dictionary>
                                                    </sap:WorkflowViewStateService.ViewState>
                                                    <Flowchart.StartNode>
                                                      <x:Reference>__ReferenceID48</x:Reference>
                                                    </Flowchart.StartNode>
                                                    <FlowDecision x:Name="__ReferenceID38" Condition="[list_transactionBusinessExceptions.Count=0 AndAlso list_transactionSystemExceptions.Count=0]" DisplayName="Success" sap:VirtualizedContainerService.HintSize="70.4,87.2" sap2010:WorkflowViewState.IdRef="FlowDecision_47">
                                                      <sap:WorkflowViewStateService.ViewState>
                                                        <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                                          <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                                                          <av:Point x:Key="ShapeLocation">324.8,380</av:Point>
                                                          <av:Size x:Key="ShapeSize">70.4,87.2</av:Size>
                                                          <av:PointCollection x:Key="FalseConnector">395.2,423.6 490,423.6 490,486.4</av:PointCollection>
                                                          <av:PointCollection x:Key="TrueConnector">324.8,423.6 110,423.6 110,677.6</av:PointCollection>
                                                        </scg:Dictionary>
                                                      </sap:WorkflowViewStateService.ViewState>
                                                      <FlowDecision.True>
                                                        <FlowStep x:Name="__ReferenceID34">
                                                          <sap:WorkflowViewStateService.ViewState>
                                                            <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                                              <av:Point x:Key="ShapeLocation">10,677.6</av:Point>
                                                              <av:Size x:Key="ShapeSize">200,144.8</av:Size>
                                                            </scg:Dictionary>
                                                          </sap:WorkflowViewStateService.ViewState>
                                                          <Sequence sap2010:Annotation.AnnotationText="If the transaction item is processed without any exception, its status is updated as Successful." DisplayName="Success" sap:VirtualizedContainerService.HintSize="200,144.8" sap2010:WorkflowViewState.IdRef="Sequence_210">
                                                            <sap:WorkflowViewStateService.ViewState>
                                                              <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                                                <x:Boolean x:Key="IsExpanded">False</x:Boolean>
                                                                <x:Boolean x:Key="IsAnnotationDocked">True</x:Boolean>
                                                                <x:Boolean x:Key="IsPinned">False</x:Boolean>
                                                              </scg:Dictionary>
                                                            </sap:WorkflowViewStateService.ViewState>
                                                            <Assign DisplayName="Assign 0 to int_totalTransactionsWithSystemExceptionInA_Row" sap:VirtualizedContainerService.HintSize="262.4,60" sap2010:WorkflowViewState.IdRef="Assign_220">
                                                              <Assign.To>
                                                                <OutArgument x:TypeArguments="x:Int32">[int_totalTransactionsWithSystemExceptionInA_Row]</OutArgument>
                                                              </Assign.To>
                                                              <Assign.Value>
                                                                <InArgument x:TypeArguments="x:Int32">0</InArgument>
                                                              </Assign.Value>
                                                            </Assign>
                                                          </Sequence>
                                                        </FlowStep>
                                                      </FlowDecision.True>
                                                      <FlowDecision.False>
                                                        <FlowDecision x:Name="__ReferenceID36" Condition="[list_transactionSystemExceptions.Count&gt;0]" DisplayName="System Exception" sap:VirtualizedContainerService.HintSize="98.4,87.2" sap2010:WorkflowViewState.IdRef="FlowDecision_46">
                                                          <sap:WorkflowViewStateService.ViewState>
                                                            <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                                              <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                                                              <av:Point x:Key="ShapeLocation">440.8,486.4</av:Point>
                                                              <av:Size x:Key="ShapeSize">98.4,87.2</av:Size>
                                                              <av:PointCollection x:Key="TrueConnector">440.8,530 330,530 330,639.6</av:PointCollection>
                                                              <av:PointCollection x:Key="FalseConnector">539.2,530 600,530 600,681.6</av:PointCollection>
                                                            </scg:Dictionary>
                                                          </sap:WorkflowViewStateService.ViewState>
                                                          <FlowDecision.True>
                                                            <FlowStep x:Name="__ReferenceID37">
                                                              <sap:WorkflowViewStateService.ViewState>
                                                                <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                                                  <av:Point x:Key="ShapeLocation">230,639.6</av:Point>
                                                                  <av:Size x:Key="ShapeSize">200,208.8</av:Size>
                                                                </scg:Dictionary>
                                                              </sap:WorkflowViewStateService.ViewState>
                                                              <Sequence sap2010:Annotation.AnnotationText="If a system exception occurs during the process, the transaction item's status is updated as Failed (Exception Type: Application). In case the transaction has businessExceptions too, it will be added to reason field" DisplayName="System Exception" sap:VirtualizedContainerService.HintSize="200,208.8" sap2010:WorkflowViewState.IdRef="Sequence_211">
                                                                <sap:WorkflowViewStateService.ViewState>
                                                                  <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                                                    <x:Boolean x:Key="IsExpanded">False</x:Boolean>
                                                                    <x:Boolean x:Key="IsPinned">False</x:Boolean>
                                                                    <x:Boolean x:Key="IsAnnotationDocked">True</x:Boolean>
                                                                  </scg:Dictionary>
                                                                </sap:WorkflowViewStateService.ViewState>
                                                                <Assign sap:VirtualizedContainerService.HintSize="315.2,60" sap2010:WorkflowViewState.IdRef="Assign_221">
                                                                  <Assign.To>
                                                                    <OutArgument x:TypeArguments="x:Int32">[int_totalTransactionsWithSystemExceptionInA_Row]</OutArgument>
                                                                  </Assign.To>
                                                                  <Assign.Value>
                                                                    <InArgument x:TypeArguments="x:Int32">[int_totalTransactionsWithSystemExceptionInA_Row+1]</InArgument>
                                                                  </Assign.Value>
                                                                </Assign>
                                                                <hs:Set_Transaction_Status in_dic_AnalyticsData="{x:Null}" in_dic_OutputData="{x:Null}" sap2010:Annotation.AnnotationText="" DisplayName="Set transaction status (SystemException)" sap:VirtualizedContainerService.HintSize="315.2,165.6" sap2010:WorkflowViewState.IdRef="Set_Transaction_Status_6" in_ExceptionType="[ProcessingExceptionType.ApplicationException]" in_OrchestratorAuth="[in_ProcessSetup.Environment.OrchestratorAuth]" in_boo_ToWriteLog="True" in_boo_TransactionSuccess="False" in_str_ExceptionDetails="[IF(list_transactionSystemExceptions.Last.Data IsNot Nothing AndAlso list_transactionSystemExceptions.Last.Data.Contains(&quot;Details&quot;),list_transactionSystemExceptions.Last.Data(&quot;Details&quot;).ToString,&quot;&quot;)]" in_str_ExceptionReason="[list_transactionSystemExceptions.Last.Message+&quot; at source: &quot;+list_transactionSystemExceptions.Last.Source]" in_str_OrchestratorFolderPath="[If(string.IsNullOrEmpty(in_str_CustomOrchestratorQueueFolderPath), in_ProcessSetup.BusinessProcess.OrchestratorFolderPath, in_str_CustomOrchestratorQueueFolderPath)]" in_tran_currentTranItem="[tran_currentTranItem]">
                                                                  <sap:WorkflowViewStateService.ViewState>
                                                                    <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                                                      <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                                                                      <x:Boolean x:Key="IsAnnotationDocked">True</x:Boolean>
                                                                    </scg:Dictionary>
                                                                  </sap:WorkflowViewStateService.ViewState>
                                                                </hs:Set_Transaction_Status>
                                                              </Sequence>
                                                            </FlowStep>
                                                          </FlowDecision.True>
                                                          <FlowDecision.False>
                                                            <FlowStep x:Name="__ReferenceID35">
                                                              <sap:WorkflowViewStateService.ViewState>
                                                                <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                                                  <av:Point x:Key="ShapeLocation">500,681.6</av:Point>
                                                                  <av:Size x:Key="ShapeSize">200,176.8</av:Size>
                                                                </scg:Dictionary>
                                                              </sap:WorkflowViewStateService.ViewState>
                                                              <Sequence sap2010:Annotation.AnnotationText="If a BussinessRuleException is thrown during the process, the transaction item's status is updated as Failed (Exception Type: Business).&#xA;" DisplayName="Business Exception" sap:VirtualizedContainerService.HintSize="356.8,434.4" sap2010:WorkflowViewState.IdRef="Sequence_212">
                                                                <sap:WorkflowViewStateService.ViewState>
                                                                  <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                                                    <x:Boolean x:Key="IsExpanded">False</x:Boolean>
                                                                    <x:Boolean x:Key="IsPinned">False</x:Boolean>
                                                                    <x:Boolean x:Key="IsAnnotationDocked">True</x:Boolean>
                                                                  </scg:Dictionary>
                                                                </sap:WorkflowViewStateService.ViewState>
                                                                <Assign DisplayName="Assign 0 to int_totalTransactionsWithSystemExceptionInA_Row" sap:VirtualizedContainerService.HintSize="315.2,60" sap2010:WorkflowViewState.IdRef="Assign_222">
                                                                  <Assign.To>
                                                                    <OutArgument x:TypeArguments="x:Int32">[int_totalTransactionsWithSystemExceptionInA_Row]</OutArgument>
                                                                  </Assign.To>
                                                                  <Assign.Value>
                                                                    <InArgument x:TypeArguments="x:Int32">0</InArgument>
                                                                  </Assign.Value>
                                                                </Assign>
                                                                <hs:Set_Transaction_Status in_dic_AnalyticsData="{x:Null}" in_dic_OutputData="{x:Null}" sap2010:Annotation.AnnotationText="" DisplayName="Set transaction status (BusinessException)" sap:VirtualizedContainerService.HintSize="315.2,165.6" sap2010:WorkflowViewState.IdRef="Set_Transaction_Status_7" in_ExceptionType="[ProcessingExceptionType.BusinessException]" in_OrchestratorAuth="[in_ProcessSetup.Environment.OrchestratorAuth]" in_boo_ToWriteLog="True" in_boo_TransactionSuccess="False" in_str_ExceptionDetails="[IF(list_transactionBusinessExceptions.Last.Data IsNot Nothing AndAlso list_transactionBusinessExceptions.Last.Data.Contains(&quot;Details&quot;),list_transactionBusinessExceptions.Last.Data(&quot;Details&quot;).ToString,&quot;&quot;)]" in_str_ExceptionReason="[list_transactionBusinessExceptions.Last.Message+&quot; at source: &quot;+list_transactionBusinessExceptions.Last.Source]" in_str_OrchestratorFolderPath="[If(string.IsNullOrEmpty(in_str_CustomOrchestratorQueueFolderPath), in_ProcessSetup.BusinessProcess.OrchestratorFolderPath, in_str_CustomOrchestratorQueueFolderPath)]" in_tran_currentTranItem="[tran_currentTranItem]">
                                                                  <sap:WorkflowViewStateService.ViewState>
                                                                    <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                                                      <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                                                                      <x:Boolean x:Key="IsAnnotationDocked">True</x:Boolean>
                                                                    </scg:Dictionary>
                                                                  </sap:WorkflowViewStateService.ViewState>
                                                                </hs:Set_Transaction_Status>
                                                              </Sequence>
                                                            </FlowStep>
                                                          </FlowDecision.False>
                                                        </FlowDecision>
                                                      </FlowDecision.False>
                                                    </FlowDecision>
                                                    <x:Reference>__ReferenceID34</x:Reference>
                                                    <x:Reference>__ReferenceID35</x:Reference>
                                                    <x:Reference>__ReferenceID36</x:Reference>
                                                    <x:Reference>__ReferenceID37</x:Reference>
                                                    <FlowStep x:Name="__ReferenceID45">
                                                      <sap:WorkflowViewStateService.ViewState>
                                                        <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                                          <av:Point x:Key="ShapeLocation">260,197.6</av:Point>
                                                          <av:Size x:Key="ShapeSize">200,144.8</av:Size>
                                                          <av:PointCollection x:Key="ConnectorLocation">360,342.4 360,380</av:PointCollection>
                                                        </scg:Dictionary>
                                                      </sap:WorkflowViewStateService.ViewState>
                                                      <hs:Set_Transaction_Status in_ExceptionType="{x:Null}" in_dic_OutputData="{x:Null}" sap2010:Annotation.AnnotationText="נא לשים לב - פקודה זו משמיטה מהמילון מפתחות שאינם ניתנים לשימוש (מכילים תווים לא חוקיים או שמכילים ערכים מסוג שלא ניתן למימוש)" DisplayName="Set Transaction Status" sap:VirtualizedContainerService.HintSize="200,144.8" sap2010:WorkflowViewState.IdRef="Set_Transaction_Status_5" in_OrchestratorAuth="[in_ProcessSetup.Environment.OrchestratorAuth]" in_boo_ToWriteLog="[list_transactionBusinessExceptions.Count=0 AndAlso list_transactionSystemExceptions.Count=0]" in_boo_TransactionSuccess="True" in_dic_AnalyticsData="[If(in_arr_str_TransactionKeysForAnalytics IsNot Nothing AndAlso in_arr_str_TransactionKeysForAnalytics.Count&gt;0,dic_str_obj_AllTransactionData.AsEnumerable().Where(Function(x) in_arr_str_TransactionKeysForAnalytics.Contains(x.Key) OrElse x.Key = &quot;ExecuterJobGUID&quot; OrElse x.Key = &quot;ExceptionScreenshot&quot;), dic_str_obj_AllTransactionData.AsEnumerable()).Where(function(x) x.Value IsNot Nothing AndAlso not x.Key.Contains(&quot;.&quot;) AndAlso not x.Key.Contains(&quot;#&quot;) AndAlso not x.Key.Contains(&quot;@&quot;) AndAlso (x.Value.GetType=GetType(System.String) OrElse x.Value.GetType=GetType(System.DateTime) OrElse Double.TryParse(x.Value.ToString, nothing) OrElse x.Value.GetType=GetType(System.Boolean))).Where(function(x) not Left(x.Key, 5)=&quot;LogF_&quot;).ToDictionary(Function(i) i.Key, Function(i) i.Value)]" in_str_OrchestratorFolderPath="[If(string.IsNullOrEmpty(in_str_CustomOrchestratorQueueFolderPath), in_ProcessSetup.BusinessProcess.OrchestratorFolderPath, in_str_CustomOrchestratorQueueFolderPath)]" in_tran_currentTranItem="[tran_currentTranItem]">
                                                        <sap:WorkflowViewStateService.ViewState>
                                                          <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                                            <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                                                            <x:Boolean x:Key="IsAnnotationDocked">True</x:Boolean>
                                                          </scg:Dictionary>
                                                        </sap:WorkflowViewStateService.ViewState>
                                                        <hs:Set_Transaction_Status.in_str_ExceptionDetails>
                                                          <InArgument x:TypeArguments="x:String" />
                                                        </hs:Set_Transaction_Status.in_str_ExceptionDetails>
                                                        <hs:Set_Transaction_Status.in_str_ExceptionReason>
                                                          <InArgument x:TypeArguments="x:String" />
                                                        </hs:Set_Transaction_Status.in_str_ExceptionReason>
                                                      </hs:Set_Transaction_Status>
                                                      <FlowStep.Next>
                                                        <x:Reference>__ReferenceID38</x:Reference>
                                                      </FlowStep.Next>
                                                    </FlowStep>
                                                    <FlowStep x:Name="__ReferenceID48">
                                                      <sap:WorkflowViewStateService.ViewState>
                                                        <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                                          <av:Point x:Key="ShapeLocation">130,12.4</av:Point>
                                                          <av:Size x:Key="ShapeSize">200,52.8</av:Size>
                                                          <av:PointCollection x:Key="ConnectorLocation">330,38.8 460,38.8</av:PointCollection>
                                                        </scg:Dictionary>
                                                      </sap:WorkflowViewStateService.ViewState>
                                                      <If Condition="[not boo_TransactionCompleted AndAlso list_transactionSystemExceptions.Count=0 AndAlso list_transactionBusinessExceptions.Count=0]" DisplayName="If no exceptions &amp; no success flag" sap:VirtualizedContainerService.HintSize="200,52.8" sap2010:WorkflowViewState.IdRef="If_42">
                                                        <sap:WorkflowViewStateService.ViewState>
                                                          <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                                            <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                                                          </scg:Dictionary>
                                                        </sap:WorkflowViewStateService.ViewState>
                                                        <If.Then>
                                                          <Sequence sap:VirtualizedContainerService.HintSize="375.2,248" sap2010:WorkflowViewState.IdRef="Sequence_201">
                                                            <sap:WorkflowViewStateService.ViewState>
                                                              <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                                                <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                                                              </scg:Dictionary>
                                                            </sap:WorkflowViewStateService.ViewState>
                                                            <ui:LogMessage DisplayName="Log Message" sap:VirtualizedContainerService.HintSize="333.6,92.8" sap2010:WorkflowViewState.IdRef="LogMessage_42" Level="Warn" Message="[&quot;Transaction stopped in the middle, probably due to job kill&quot;]">
                                                              <sap:WorkflowViewStateService.ViewState>
                                                                <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                                                  <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                                                                </scg:Dictionary>
                                                              </sap:WorkflowViewStateService.ViewState>
                                                            </ui:LogMessage>
                                                            <AddToCollection x:TypeArguments="s:Exception" Collection="[list_transactionSystemExceptions]" DisplayName="Add to collection -s sys excep." sap:VirtualizedContainerService.HintSize="333.6,22.4" sap2010:WorkflowViewState.IdRef="AddToCollection`1_51" Item="[new System.Exception(&quot;Transaction stopped during execution, probably due to job kill&quot;)]" />
                                                          </Sequence>
                                                        </If.Then>
                                                      </If>
                                                      <FlowStep.Next>
                                                        <FlowStep x:Name="__ReferenceID46">
                                                          <sap:WorkflowViewStateService.ViewState>
                                                            <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                                              <av:Point x:Key="ShapeLocation">460,12.4</av:Point>
                                                              <av:Size x:Key="ShapeSize">200,52.8</av:Size>
                                                              <av:PointCollection x:Key="ConnectorLocation">560,65.2 560,115.2</av:PointCollection>
                                                            </scg:Dictionary>
                                                          </sap:WorkflowViewStateService.ViewState>
                                                          <TryCatch DisplayName="Try Catch before set status" sap:VirtualizedContainerService.HintSize="200,52.8" sap2010:WorkflowViewState.IdRef="TryCatch_31">
                                                            <sap:WorkflowViewStateService.ViewState>
                                                              <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                                                <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                                                              </scg:Dictionary>
                                                            </sap:WorkflowViewStateService.ViewState>
                                                            <TryCatch.Try>
                                                              <ui:InvokeWorkflowFile ArgumentsVariable="{x:Null}" ContinueOnError="{x:Null}" DisplayName="Invoke Before Set Transaction Status workflow" sap:VirtualizedContainerService.HintSize="333.6,113.6" sap2010:WorkflowViewState.IdRef="InvokeWorkflowFile_70" LogEntry="No" LogExit="No" UnSafe="False" WorkflowFileName="BeforeSetTransactionStatus.xaml">
                                                                <ui:InvokeWorkflowFile.Arguments>
                                                                  <InOutArgument x:TypeArguments="ui:QueueItem" x:Key="io_CurrentTransaction">[tran_currentTranItem]</InOutArgument>
                                                                  <InOutArgument x:TypeArguments="hm:ProcessSetup" x:Key="io_ProcessSetup">[in_ProcessSetup]</InOutArgument>
                                                                  <InOutArgument x:TypeArguments="scg:List(s:Exception)" x:Key="io_list_TransactionSystemExceptions">[list_transactionSystemExceptions]</InOutArgument>
                                                                  <InOutArgument x:TypeArguments="scg:List(ui:BusinessRuleException)" x:Key="io_list_TransactionBusinessExceptions">[list_transactionBusinessExceptions]</InOutArgument>
                                                                  <InOutArgument x:TypeArguments="scg:Dictionary(x:String, x:Object)" x:Key="io_dic_str_obj_AllTransactionData">[dic_str_obj_AllTransactionData]</InOutArgument>
                                                                </ui:InvokeWorkflowFile.Arguments>
                                                              </ui:InvokeWorkflowFile>
                                                            </TryCatch.Try>
                                                            <TryCatch.Catches>
                                                              <Catch x:TypeArguments="s:Exception" sap:VirtualizedContainerService.HintSize="558.4,931.2" sap2010:WorkflowViewState.IdRef="Catch`1_34">
                                                                <sap:WorkflowViewStateService.ViewState>
                                                                  <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                                                    <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                                                                    <x:Boolean x:Key="IsPinned">False</x:Boolean>
                                                                  </scg:Dictionary>
                                                                </sap:WorkflowViewStateService.ViewState>
                                                                <ActivityAction x:TypeArguments="s:Exception">
                                                                  <ActivityAction.Argument>
                                                                    <DelegateInArgument x:TypeArguments="s:Exception" Name="exception" />
                                                                  </ActivityAction.Argument>
                                                                  <Sequence sap:VirtualizedContainerService.HintSize="552,860.8" sap2010:WorkflowViewState.IdRef="Sequence_205">
                                                                    <sap:WorkflowViewStateService.ViewState>
                                                                      <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                                                        <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                                                                      </scg:Dictionary>
                                                                    </sap:WorkflowViewStateService.ViewState>
                                                                    <h:System_Exception_Generic in_str_ScreenshotComment="{x:Null}" DisplayName="System Exception Generic" sap:VirtualizedContainerService.HintSize="510.4,134.4" sap2010:WorkflowViewState.IdRef="System_Exception_Generic_26" in_ProcessSetup="[in_ProcessSetup]" in_exception="[exception]" in_logLevel="[LogLevel.Error]" in_needScreenshot="True" in_screenshotsFolderPath="[in_ProcessSetup.BusinessProcess.ScreenshotsFolderPath]" out_takenScreenshotFullPath="[str_takenScreenshotFullPath]" out_takenScreenshotNameOnly="[str_takenScreenshotNameOnly]" />
                                                                    <AddToCollection x:TypeArguments="s:Exception" Collection="[list_transactionSystemExceptions]" DisplayName="Add To Collection" sap:VirtualizedContainerService.HintSize="510.4,22.4" sap2010:WorkflowViewState.IdRef="AddToCollection`1_52" Item="[exception]" />
                                                                    <If Condition="[list_transactionSystemExceptions.Count=1]" DisplayName="If this is the first SystemException of the current transaction" sap:VirtualizedContainerService.HintSize="510.4,531.2" sap2010:WorkflowViewState.IdRef="If_43">
                                                                      <If.Then>
                                                                        <Sequence DisplayName="Catch(system)_Execute transation" sap:VirtualizedContainerService.HintSize="475.2,342.4" sap2010:WorkflowViewState.IdRef="Sequence_203">
                                                                          <sap:WorkflowViewStateService.ViewState>
                                                                            <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                                                              <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                                                                              <x:Boolean x:Key="IsPinned">False</x:Boolean>
                                                                            </scg:Dictionary>
                                                                          </sap:WorkflowViewStateService.ViewState>
                                                                          <AddToCollection x:TypeArguments="s:Exception" Collection="[list_transactionSystemExceptions]" DisplayName="Add To Collection" sap:VirtualizedContainerService.HintSize="433.6,22.4" sap2010:WorkflowViewState.IdRef="AddToCollection`1_53" Item="[exception]" />
                                                                          <TryCatch DisplayName="Try Catch" sap:VirtualizedContainerService.HintSize="433.6,187.2" sap2010:WorkflowViewState.IdRef="TryCatch_30">
                                                                            <TryCatch.Try>
                                                                              <ui:InvokeWorkflowFile ArgumentsVariable="{x:Null}" ContinueOnError="{x:Null}" DisplayName="Invoke Transaction System Exception workflow" sap:VirtualizedContainerService.HintSize="378.4,113.6" sap2010:WorkflowViewState.IdRef="InvokeWorkflowFile_71" LogEntry="No" LogExit="No" UnSafe="False" WorkflowFileName="TransactionExceptions\TransactionSystemException.xaml">
                                                                                <ui:InvokeWorkflowFile.Arguments>
                                                                                  <InOutArgument x:TypeArguments="hm:ProcessSetup" x:Key="io_ProcessSetup">[in_ProcessSetup]</InOutArgument>
                                                                                  <InOutArgument x:TypeArguments="ui:QueueItem" x:Key="io_tran_CurrentTranItem">[tran_currentTranItem]</InOutArgument>
                                                                                  <InOutArgument x:TypeArguments="s:Exception" x:Key="io_exception">[exception]</InOutArgument>
                                                                                  <InOutArgument x:TypeArguments="scg:Dictionary(x:String, x:Object)" x:Key="io_dic_AllTransactionData">[dic_str_obj_AllTransactionData]</InOutArgument>
                                                                                  <InOutArgument x:TypeArguments="scg:List(ui:BusinessRuleException)" x:Key="io_list_transactionBusinessExceptions">[list_transactionBusinessExceptions]</InOutArgument>
                                                                                  <InOutArgument x:TypeArguments="scg:List(s:Exception)" x:Key="io_list_transactionSystemExceptions">[list_transactionSystemExceptions]</InOutArgument>
                                                                                  <InArgument x:TypeArguments="x:Int32" x:Key="in_int_handledTransactionsCounter">[int_handledTransactionsCounter]</InArgument>
                                                                                </ui:InvokeWorkflowFile.Arguments>
                                                                              </ui:InvokeWorkflowFile>
                                                                            </TryCatch.Try>
                                                                            <TryCatch.Catches>
                                                                              <Catch x:TypeArguments="s:Exception" sap:VirtualizedContainerService.HintSize="400,22.4" sap2010:WorkflowViewState.IdRef="Catch`1_33">
                                                                                <sap:WorkflowViewStateService.ViewState>
                                                                                  <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                                                                    <x:Boolean x:Key="IsExpanded">False</x:Boolean>
                                                                                    <x:Boolean x:Key="IsPinned">False</x:Boolean>
                                                                                  </scg:Dictionary>
                                                                                </sap:WorkflowViewStateService.ViewState>
                                                                                <ActivityAction x:TypeArguments="s:Exception">
                                                                                  <ActivityAction.Argument>
                                                                                    <DelegateInArgument x:TypeArguments="s:Exception" Name="exception2" />
                                                                                  </ActivityAction.Argument>
                                                                                  <Sequence sap:VirtualizedContainerService.HintSize="324.8,280" sap2010:WorkflowViewState.IdRef="Sequence_202">
                                                                                    <sap:WorkflowViewStateService.ViewState>
                                                                                      <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                                                                        <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                                                                                      </scg:Dictionary>
                                                                                    </sap:WorkflowViewStateService.ViewState>
                                                                                    <h:System_Exception_Generic in_str_ScreenshotComment="{x:Null}" DisplayName="System Exception Generic" sap:VirtualizedContainerService.HintSize="283.2,134.4" sap2010:WorkflowViewState.IdRef="System_Exception_Generic_27" in_ProcessSetup="[in_ProcessSetup]" in_exception="[exception2]" in_logLevel="[LogLevel.Error]" in_needScreenshot="True" in_screenshotsFolderPath="[in_ProcessSetup.BusinessProcess.ScreenshotsFolderPath]" out_takenScreenshotFullPath="[str_takenScreenshotFullPath]" out_takenScreenshotNameOnly="[str_takenScreenshotNameOnly]" />
                                                                                    <AddToCollection x:TypeArguments="s:Exception" Collection="[list_transactionSystemExceptions]" DisplayName="Add To Collection" sap:VirtualizedContainerService.HintSize="283.2,22.4" sap2010:WorkflowViewState.IdRef="AddToCollection`1_54" Item="[exception2]" />
                                                                                  </Sequence>
                                                                                </ActivityAction>
                                                                              </Catch>
                                                                            </TryCatch.Catches>
                                                                          </TryCatch>
                                                                        </Sequence>
                                                                      </If.Then>
                                                                      <If.Else>
                                                                        <Sequence sap2010:WorkflowViewState.IdRef="Sequence_204">
                                                                          <sap:WorkflowViewStateService.ViewState>
                                                                            <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                                                              <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                                                                            </scg:Dictionary>
                                                                          </sap:WorkflowViewStateService.ViewState>
                                                                        </Sequence>
                                                                      </If.Else>
                                                                    </If>
                                                                  </Sequence>
                                                                </ActivityAction>
                                                              </Catch>
                                                            </TryCatch.Catches>
                                                          </TryCatch>
                                                          <FlowStep.Next>
                                                            <FlowStep x:Name="__ReferenceID47">
                                                              <sap:WorkflowViewStateService.ViewState>
                                                                <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                                                  <av:Point x:Key="ShapeLocation">460,115.2</av:Point>
                                                                  <av:Size x:Key="ShapeSize">200,52.8</av:Size>
                                                                  <av:PointCollection x:Key="ConnectorLocation">460,141.6 360,141.6 360,197.6</av:PointCollection>
                                                                </scg:Dictionary>
                                                              </sap:WorkflowViewStateService.ViewState>
                                                              <Flowchart DisplayName="Handling exceptions in Analytics" sap:VirtualizedContainerService.HintSize="200,52.8" sap2010:WorkflowViewState.IdRef="Flowchart_21">
                                                                <sap:WorkflowViewStateService.ViewState>
                                                                  <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                                                    <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                                                                    <av:Point x:Key="ShapeLocation">270,2.5</av:Point>
                                                                    <av:Size x:Key="ShapeSize">60,75.2</av:Size>
                                                                    <av:PointCollection x:Key="ConnectorLocation">300,77.7 300,107.7 315.041666666667,107.7 315.041666666667,126.5</av:PointCollection>
                                                                  </scg:Dictionary>
                                                                </sap:WorkflowViewStateService.ViewState>
                                                                <Flowchart.StartNode>
                                                                  <x:Reference>__ReferenceID44</x:Reference>
                                                                </Flowchart.StartNode>
                                                                <FlowStep x:Name="__ReferenceID40">
                                                                  <sap:WorkflowViewStateService.ViewState>
                                                                    <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                                                      <av:Point x:Key="ShapeLocation">0,410</av:Point>
                                                                      <av:Size x:Key="ShapeSize">262.4,60</av:Size>
                                                                      <av:PointCollection x:Key="ConnectorLocation">131.2,470 131.2,500 451.2,500 451.2,520</av:PointCollection>
                                                                    </scg:Dictionary>
                                                                  </sap:WorkflowViewStateService.ViewState>
                                                                  <Assign sap:VirtualizedContainerService.HintSize="262.4,60" sap2010:WorkflowViewState.IdRef="Assign_217">
                                                                    <Assign.To>
                                                                      <OutArgument x:TypeArguments="x:Object">[dic_str_obj_AllTransactionData("BusinessExceptions")]</OutArgument>
                                                                    </Assign.To>
                                                                    <Assign.Value>
                                                                      <InArgument x:TypeArguments="x:String">[String.Join(",", list_transactionBusinessExceptions.Select(function (x) x.Message+IF(x.Data IsNot Nothing AndAlso x.Data.Contains("Details")," ("+x.Data("Details").ToString+")","")+" at: "+x.Source).ToList)]</InArgument>
                                                                    </Assign.Value>
                                                                  </Assign>
                                                                  <FlowStep.Next>
                                                                    <FlowStep x:Name="__ReferenceID39">
                                                                      <sap:WorkflowViewStateService.ViewState>
                                                                        <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                                                          <av:Point x:Key="ShapeLocation">351.2,520</av:Point>
                                                                          <av:Size x:Key="ShapeSize">200,52.8</av:Size>
                                                                        </scg:Dictionary>
                                                                      </sap:WorkflowViewStateService.ViewState>
                                                                      <If Condition="[list_transactionSystemExceptions.Count&gt;1]" DisplayName="If there are at least 2 sys excep" sap:VirtualizedContainerService.HintSize="483.2,341.6" sap2010:WorkflowViewState.IdRef="If_44">
                                                                        <sap:WorkflowViewStateService.ViewState>
                                                                          <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                                                            <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                                                                          </scg:Dictionary>
                                                                        </sap:WorkflowViewStateService.ViewState>
                                                                        <If.Then>
                                                                          <Sequence sap:VirtualizedContainerService.HintSize="304,152.8" sap2010:WorkflowViewState.IdRef="Sequence_206">
                                                                            <sap:WorkflowViewStateService.ViewState>
                                                                              <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                                                                <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                                                                              </scg:Dictionary>
                                                                            </sap:WorkflowViewStateService.ViewState>
                                                                            <Assign sap:VirtualizedContainerService.HintSize="262.4,60" sap2010:WorkflowViewState.IdRef="Assign_218">
                                                                              <Assign.To>
                                                                                <OutArgument x:TypeArguments="x:Object">[dic_str_obj_AllTransactionData("SystemExceptions")]</OutArgument>
                                                                              </Assign.To>
                                                                              <Assign.Value>
                                                                                <InArgument x:TypeArguments="x:String">[String.Join(",", list_transactionSystemExceptions.Where(function(x) list_transactionSystemExceptions.IndexOf(x)&gt;0).Select(function (x) x.Message+IF(x.Data IsNot Nothing AndAlso x.Data.Contains("Details")," ("+x.Data("Details").ToString+")","")+" at: "+x.Source).ToList)]</InArgument>
                                                                              </Assign.Value>
                                                                            </Assign>
                                                                          </Sequence>
                                                                        </If.Then>
                                                                        <If.Else>
                                                                          <Sequence sap2010:WorkflowViewState.IdRef="Sequence_207">
                                                                            <sap:WorkflowViewStateService.ViewState>
                                                                              <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                                                                <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                                                                              </scg:Dictionary>
                                                                            </sap:WorkflowViewStateService.ViewState>
                                                                          </Sequence>
                                                                        </If.Else>
                                                                      </If>
                                                                    </FlowStep>
                                                                  </FlowStep.Next>
                                                                </FlowStep>
                                                                <FlowDecision x:Name="__ReferenceID44" Condition="[list_transactionBusinessExceptions.Count&gt;0]" DisplayName="There are biz excep" sap:VirtualizedContainerService.HintSize="108.8,87.2" sap2010:WorkflowViewState.IdRef="FlowDecision_45">
                                                                  <sap:WorkflowViewStateService.ViewState>
                                                                    <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                                                      <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                                                                      <av:Point x:Key="ShapeLocation">260.641666666667,126.5</av:Point>
                                                                      <av:Size x:Key="ShapeSize">108.8,87.2</av:Size>
                                                                      <av:PointCollection x:Key="TrueConnector">260.641666666667,170.1 236.241666666667,170.1 236.241666666667,256.5</av:PointCollection>
                                                                      <av:PointCollection x:Key="FalseConnector">369.441666666667,170.1 529.841666666667,170.1 529.841666666667,256.6</av:PointCollection>
                                                                    </scg:Dictionary>
                                                                  </sap:WorkflowViewStateService.ViewState>
                                                                  <FlowDecision.True>
                                                                    <FlowDecision x:Name="__ReferenceID42" Condition="[list_transactionSystemExceptions.Count&gt;0]" DisplayName="There are sys exce" sap:VirtualizedContainerService.HintSize="100.8,87.2" sap2010:WorkflowViewState.IdRef="FlowDecision_43" True="{x:Reference __ReferenceID40}">
                                                                      <sap:WorkflowViewStateService.ViewState>
                                                                        <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                                                          <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                                                                          <av:Point x:Key="ShapeLocation">160.641666666667,256.5</av:Point>
                                                                          <av:Size x:Key="ShapeSize">100.8,87.2</av:Size>
                                                                          <av:PointCollection x:Key="TrueConnector">160.641666666667,300.1 131.2,300.1 131.2,410</av:PointCollection>
                                                                          <av:PointCollection x:Key="FalseConnector">261.441666666667,300.1 291.441666666667,300.1 291.441666666667,483.6 210,483.6 210,513.6</av:PointCollection>
                                                                        </scg:Dictionary>
                                                                      </sap:WorkflowViewStateService.ViewState>
                                                                      <FlowDecision.False>
                                                                        <FlowStep x:Name="__ReferenceID43">
                                                                          <sap:WorkflowViewStateService.ViewState>
                                                                            <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                                                              <av:Point x:Key="ShapeLocation">110,513.6</av:Point>
                                                                              <av:Size x:Key="ShapeSize">200,52.8</av:Size>
                                                                            </scg:Dictionary>
                                                                          </sap:WorkflowViewStateService.ViewState>
                                                                          <If Condition="[list_transactionBusinessExceptions.Count&gt;1]" DisplayName="If there are at least 2 biz excep" sap:VirtualizedContainerService.HintSize="200,52.8" sap2010:WorkflowViewState.IdRef="If_45">
                                                                            <sap:WorkflowViewStateService.ViewState>
                                                                              <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                                                                <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                                                                              </scg:Dictionary>
                                                                            </sap:WorkflowViewStateService.ViewState>
                                                                            <If.Then>
                                                                              <Sequence sap:VirtualizedContainerService.HintSize="304,152.8" sap2010:WorkflowViewState.IdRef="Sequence_208">
                                                                                <sap:WorkflowViewStateService.ViewState>
                                                                                  <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                                                                    <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                                                                                  </scg:Dictionary>
                                                                                </sap:WorkflowViewStateService.ViewState>
                                                                                <Assign sap:VirtualizedContainerService.HintSize="262.4,60" sap2010:WorkflowViewState.IdRef="Assign_219">
                                                                                  <Assign.To>
                                                                                    <OutArgument x:TypeArguments="x:Object">[dic_str_obj_AllTransactionData("BusinessExceptions")]</OutArgument>
                                                                                  </Assign.To>
                                                                                  <Assign.Value>
                                                                                    <InArgument x:TypeArguments="x:String">[String.Join(",", list_transactionBusinessExceptions.Where(function(x) list_transactionBusinessExceptions.IndexOf(x)&gt;0).Select(function (x) x.Message+IF(x.Data IsNot Nothing AndAlso x.Data.Contains("Details")," ("+x.Data("Details").ToString+")","")+" at: "+x.Source).ToList)]</InArgument>
                                                                                  </Assign.Value>
                                                                                </Assign>
                                                                              </Sequence>
                                                                            </If.Then>
                                                                            <If.Else>
                                                                              <Sequence sap2010:WorkflowViewState.IdRef="Sequence_209">
                                                                                <sap:WorkflowViewStateService.ViewState>
                                                                                  <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                                                                    <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                                                                                  </scg:Dictionary>
                                                                                </sap:WorkflowViewStateService.ViewState>
                                                                              </Sequence>
                                                                            </If.Else>
                                                                          </If>
                                                                        </FlowStep>
                                                                      </FlowDecision.False>
                                                                    </FlowDecision>
                                                                  </FlowDecision.True>
                                                                  <FlowDecision.False>
                                                                    <FlowDecision x:Name="__ReferenceID41" Condition="[list_transactionSystemExceptions.Count&gt;0]" DisplayName="There are sys exce" sap:VirtualizedContainerService.HintSize="100.8,87.2" sap2010:WorkflowViewState.IdRef="FlowDecision_44" True="{x:Reference __ReferenceID39}">
                                                                      <sap:WorkflowViewStateService.ViewState>
                                                                        <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                                                          <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                                                                          <av:Point x:Key="ShapeLocation">479.441666666667,256.6</av:Point>
                                                                          <av:Size x:Key="ShapeSize">100.8,87.2</av:Size>
                                                                          <av:PointCollection x:Key="TrueConnector">479.441666666667,300.2 451.2,300.2 451.2,520</av:PointCollection>
                                                                        </scg:Dictionary>
                                                                      </sap:WorkflowViewStateService.ViewState>
                                                                    </FlowDecision>
                                                                  </FlowDecision.False>
                                                                </FlowDecision>
                                                                <x:Reference>__ReferenceID41</x:Reference>
                                                                <x:Reference>__ReferenceID42</x:Reference>
                                                                <x:Reference>__ReferenceID39</x:Reference>
                                                                <x:Reference>__ReferenceID43</x:Reference>
                                                              </Flowchart>
                                                              <FlowStep.Next>
                                                                <x:Reference>__ReferenceID45</x:Reference>
                                                              </FlowStep.Next>
                                                            </FlowStep>
                                                          </FlowStep.Next>
                                                        </FlowStep>
                                                      </FlowStep.Next>
                                                    </FlowStep>
                                                    <x:Reference>__ReferenceID46</x:Reference>
                                                    <x:Reference>__ReferenceID47</x:Reference>
                                                  </Flowchart>
                                                  <ui:InvokeWorkflowFile ArgumentsVariable="{x:Null}" ContinueOnError="{x:Null}" DisplayName="Invoke After Set Transaction Status workflow" sap:VirtualizedContainerService.HintSize="733.6,113.6" sap2010:WorkflowViewState.IdRef="InvokeWorkflowFile_72" LogEntry="No" LogExit="No" UnSafe="False" WorkflowFileName="AfterSetTransactionStatus.xaml">
                                                    <ui:InvokeWorkflowFile.Arguments>
                                                      <InArgument x:TypeArguments="x:Int32" x:Key="in_int_HandledTransactionsCount">[int_handledTransactionsCounter]</InArgument>
                                                      <InArgument x:TypeArguments="ui:QueueItem" x:Key="in_currentTranItem">[tran_currentTranItem]</InArgument>
                                                      <InArgument x:TypeArguments="scg:List(s:Exception)" x:Key="in_list_transactionSystemExceptions">[list_transactionSystemExceptions]</InArgument>
                                                      <InArgument x:TypeArguments="scg:List(ui:BusinessRuleException)" x:Key="in_list_transactionBusinessExceptions">[list_transactionBusinessExceptions]</InArgument>
                                                      <InArgument x:TypeArguments="scg:Dictionary(x:String, x:Object)" x:Key="in_dic_AllTransactionData">[dic_str_obj_AllTransactionData]</InArgument>
                                                      <InOutArgument x:TypeArguments="hm:ProcessSetup" x:Key="io_ProcessSetup">[in_ProcessSetup]</InOutArgument>
                                                    </ui:InvokeWorkflowFile.Arguments>
                                                    <sap:WorkflowViewStateService.ViewState>
                                                      <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                                        <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                                                        <x:Boolean x:Key="IsPinned">False</x:Boolean>
                                                      </scg:Dictionary>
                                                    </sap:WorkflowViewStateService.ViewState>
                                                  </ui:InvokeWorkflowFile>
                                                </Sequence>
                                              </TryCatch.Try>
                                              <TryCatch.Catches>
                                                <Catch x:TypeArguments="s:Exception" sap:VirtualizedContainerService.HintSize="778.4,22.4" sap2010:WorkflowViewState.IdRef="Catch`1_35">
                                                  <sap:WorkflowViewStateService.ViewState>
                                                    <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                                      <x:Boolean x:Key="IsExpanded">False</x:Boolean>
                                                      <x:Boolean x:Key="IsPinned">False</x:Boolean>
                                                    </scg:Dictionary>
                                                  </sap:WorkflowViewStateService.ViewState>
                                                  <ActivityAction x:TypeArguments="s:Exception">
                                                    <ActivityAction.Argument>
                                                      <DelegateInArgument x:TypeArguments="s:Exception" Name="exception" />
                                                    </ActivityAction.Argument>
                                                    <Sequence DisplayName="Catch_Set Transaction Status&amp;After" sap:VirtualizedContainerService.HintSize="325.6,289.6" sap2010:WorkflowViewState.IdRef="Sequence_214">
                                                      <sap:WorkflowViewStateService.ViewState>
                                                        <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                                          <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                                                        </scg:Dictionary>
                                                      </sap:WorkflowViewStateService.ViewState>
                                                      <h:System_Exception_Generic in_str_ScreenshotComment="{x:Null}" DisplayName="System Exception Generic" sap:VirtualizedContainerService.HintSize="284,134.4" sap2010:WorkflowViewState.IdRef="System_Exception_Generic_28" in_ProcessSetup="[in_ProcessSetup]" in_exception="[exception]" in_logLevel="[LogLevel.Error]" in_needScreenshot="True" in_screenshotsFolderPath="[in_ProcessSetup.BusinessProcess.ScreenshotsFolderPath]" out_takenScreenshotFullPath="[str_takenScreenshotFullPath]" out_takenScreenshotNameOnly="[str_takenScreenshotNameOnly]" />
                                                      <AddToCollection x:TypeArguments="s:Exception" Collection="[out_list_jobSystemExceptions]" DisplayName="Add To Collection" sap:VirtualizedContainerService.HintSize="284,22.4" sap2010:WorkflowViewState.IdRef="AddToCollection`1_55" Item="[exception]" />
                                                    </Sequence>
                                                  </ActivityAction>
                                                </Catch>
                                              </TryCatch.Catches>
                                            </TryCatch>
                                          </Sequence>
                                        </If.Then>
                                      </If>
                                      <ui:RemoveLogFields DisplayName="Remove Log Fields" sap:VirtualizedContainerService.HintSize="888.8,22.4" sap2010:WorkflowViewState.IdRef="RemoveLogFields_4">
                                        <ui:RemoveLogFields.Fields>
                                          <scg:List x:TypeArguments="InArgument(x:String)" Capacity="16">
                                            <InArgument x:TypeArguments="x:String">LogF_AllTransactionData</InArgument>
                                            <InArgument x:TypeArguments="x:String">LogF_TransactionSpecificContent</InArgument>
                                            <InArgument x:TypeArguments="x:String">LogF_TransactionReference</InArgument>
                                            <InArgument x:TypeArguments="x:String">LogF_TransationStartDateTime</InArgument>
                                            <InArgument x:TypeArguments="x:String">LogF_TransactionId</InArgument>
                                            <InArgument x:TypeArguments="x:String">LogF_TransactionKey</InArgument>
                                            <InArgument x:TypeArguments="x:String">LogF_QueueDefinitionId</InArgument>
                                            <InArgument x:TypeArguments="x:String">LogF_TransactionRetryNo</InArgument>
                                            <InArgument x:TypeArguments="x:String">LogF_TransactionPriority</InArgument>
                                          </scg:List>
                                        </ui:RemoveLogFields.Fields>
                                        <sap:WorkflowViewStateService.ViewState>
                                          <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                            <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                                          </scg:Dictionary>
                                        </sap:WorkflowViewStateService.ViewState>
                                      </ui:RemoveLogFields>
                                    </Sequence>
                                  </TryCatch.Finally>
                                </TryCatch>
                              </State.Entry>
                              <sap:WorkflowViewStateService.ViewState>
                                <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                  <av:Point x:Key="ShapeLocation">540,223.2</av:Point>
                                  <av:Size x:Key="ShapeSize">300,223</av:Size>
                                  <x:Boolean x:Key="IsPinned">False</x:Boolean>
                                  <x:Double x:Key="StateContainerWidth">266.4000000000002</x:Double>
                                  <x:Double x:Key="StateContainerHeight">25</x:Double>
                                  <x:Boolean x:Key="IsAnnotationDocked">True</x:Boolean>
                                </scg:Dictionary>
                              </sap:WorkflowViewStateService.ViewState>
                              <State.Transitions>
                                <Transition DisplayName="Go to next transaction after sucess or b.excp" sap:VirtualizedContainerService.HintSize="2032,509.6" sap2010:WorkflowViewState.IdRef="Transition_31">
                                  <sap:WorkflowViewStateService.ViewState>
                                    <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                      <av:PointCollection x:Key="ConnectorLocation">540,267.8 510,267.8 510,207.8 1076,207.8 1076,353.933333333333 1046,353.933333333333</av:PointCollection>
                                      <x:Int32 x:Key="SrcConnectionPointIndex">13</x:Int32>
                                      <x:Int32 x:Key="DestConnectionPointIndex">24</x:Int32>
                                    </scg:Dictionary>
                                  </sap:WorkflowViewStateService.ViewState>
                                  <Transition.To>
                                    <x:Reference>__ReferenceID49</x:Reference>
                                  </Transition.To>
                                  <Transition.Condition>[in_ProcessSetup.job.EndedReason=JobEndedReason.None AndAlso (in_int_MaxTransactionWithSysExcpInA_Row=0 OrElse int_totalTransactionsWithSystemExceptionInA_Row&lt;in_int_MaxTransactionWithSysExcpInA_Row) andAlso (in_int_maxTransactionToHandle=0 orElse int_handledTransactionsCounter&lt;in_int_maxTransactionToHandle) andAlso list_transactionSystemExceptions.Count=0]</Transition.Condition>
                                </Transition>
                                <Transition DisplayName="Go to next transaction after s.excp" sap:VirtualizedContainerService.HintSize="2413.6,509.6" sap2010:WorkflowViewState.IdRef="Transition_41">
                                  <sap:WorkflowViewStateService.ViewState>
                                    <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                      <av:PointCollection x:Key="ConnectorLocation">540,290.1 510,290.1 510,60.6 695.6,60.6</av:PointCollection>
                                      <x:Int32 x:Key="SrcConnectionPointIndex">21</x:Int32>
                                      <x:Int32 x:Key="DestConnectionPointIndex">41</x:Int32>
                                    </scg:Dictionary>
                                  </sap:WorkflowViewStateService.ViewState>
                                  <Transition.To>
                                    <x:Reference>__ReferenceID50</x:Reference>
                                  </Transition.To>
                                  <Transition.Condition>[in_ProcessSetup.job.EndedReason=JobEndedReason.None AndAlso (in_int_MaxTransactionWithSysExcpInA_Row=0 OrElse int_totalTransactionsWithSystemExceptionInA_Row&lt;in_int_MaxTransactionWithSysExcpInA_Row) andAlso (in_int_maxTransactionToHandle=0 orElse int_handledTransactionsCounter&lt;in_int_maxTransactionToHandle) andAlso list_transactionSystemExceptions.Count&gt;0 AndAlso list_transactionSystemExceptions.Count&gt;0]</Transition.Condition>
                                </Transition>
                                <Transition DisplayName="MaxTransactions" sap:VirtualizedContainerService.HintSize="2130.4,509.6" sap2010:WorkflowViewState.IdRef="Transition_38">
                                  <sap:WorkflowViewStateService.ViewState>
                                    <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                      <av:PointCollection x:Key="ConnectorLocation">540,312.4 510,312.4 510,413 398,413</av:PointCollection>
                                      <x:Int32 x:Key="SrcConnectionPointIndex">29</x:Int32>
                                      <x:Int32 x:Key="DestConnectionPointIndex">36</x:Int32>
                                    </scg:Dictionary>
                                  </sap:WorkflowViewStateService.ViewState>
                                  <Transition.To>
                                    <State x:Name="__ReferenceID51" DisplayName="State_Before End Process" sap:VirtualizedContainerService.HintSize="148,161" sap2010:WorkflowViewState.IdRef="State_14">
                                      <State.Entry>
                                        <TryCatch DisplayName="Try Before End Process" sap:VirtualizedContainerService.HintSize="436.8,344.8" sap2010:WorkflowViewState.IdRef="TryCatch_24">
                                          <sap:WorkflowViewStateService.ViewState>
                                            <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                              <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                                              <x:Boolean x:Key="IsPinned">False</x:Boolean>
                                            </scg:Dictionary>
                                          </sap:WorkflowViewStateService.ViewState>
                                          <TryCatch.Try>
                                            <ui:InvokeWorkflowFile ArgumentsVariable="{x:Null}" ContinueOnError="{x:Null}" DisplayName="Invoke BeforeEndProcess workflow" sap:VirtualizedContainerService.HintSize="333.6,113.6" sap2010:WorkflowViewState.IdRef="InvokeWorkflowFile_54" LogEntry="No" LogExit="No" UnSafe="False" WorkflowFileName="BeforeEndProcess.xaml">
                                              <ui:InvokeWorkflowFile.Arguments>
                                                <InOutArgument x:TypeArguments="hm:ProcessSetup" x:Key="io_ProcessSetup">[in_ProcessSetup]</InOutArgument>
                                              </ui:InvokeWorkflowFile.Arguments>
                                            </ui:InvokeWorkflowFile>
                                          </TryCatch.Try>
                                          <TryCatch.Catches>
                                            <Catch x:TypeArguments="s:Exception" sap:VirtualizedContainerService.HintSize="403.2,22.4" sap2010:WorkflowViewState.IdRef="Catch`1_27">
                                              <sap:WorkflowViewStateService.ViewState>
                                                <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                                  <x:Boolean x:Key="IsExpanded">False</x:Boolean>
                                                  <x:Boolean x:Key="IsPinned">False</x:Boolean>
                                                </scg:Dictionary>
                                              </sap:WorkflowViewStateService.ViewState>
                                              <ActivityAction x:TypeArguments="s:Exception">
                                                <ActivityAction.Argument>
                                                  <DelegateInArgument x:TypeArguments="s:Exception" Name="exception" />
                                                </ActivityAction.Argument>
                                                <Sequence DisplayName="Catch_BeforeEnd" sap:VirtualizedContainerService.HintSize="241.6,177.6" sap2010:WorkflowViewState.IdRef="Sequence_179">
                                                  <sap:WorkflowViewStateService.ViewState>
                                                    <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                                      <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                                                    </scg:Dictionary>
                                                  </sap:WorkflowViewStateService.ViewState>
                                                  <h:System_Exception_Generic in_str_ScreenshotComment="{x:Null}" DisplayName="System Exception Generic" sap:VirtualizedContainerService.HintSize="200,22.4" sap2010:WorkflowViewState.IdRef="System_Exception_Generic_19" in_ProcessSetup="[in_ProcessSetup]" in_exception="[exception]" in_logLevel="[LogLevel.Error]" in_needScreenshot="True" in_screenshotsFolderPath="[in_ProcessSetup.BusinessProcess.ScreenshotsFolderPath]" out_takenScreenshotFullPath="[str_takenScreenshotFullPath]" out_takenScreenshotNameOnly="[str_takenScreenshotNameOnly]" />
                                                  <AddToCollection x:TypeArguments="s:Exception" Collection="[out_list_jobSystemExceptions]" DisplayName="Add To Collection" sap:VirtualizedContainerService.HintSize="200,22.4" sap2010:WorkflowViewState.IdRef="AddToCollection`1_39" Item="[exception]" />
                                                </Sequence>
                                              </ActivityAction>
                                            </Catch>
                                          </TryCatch.Catches>
                                        </TryCatch>
                                      </State.Entry>
                                      <sap:WorkflowViewStateService.ViewState>
                                        <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                          <av:Point x:Key="ShapeLocation">250,332.5</av:Point>
                                          <av:Size x:Key="ShapeSize">148,161</av:Size>
                                          <x:Boolean x:Key="IsPinned">False</x:Boolean>
                                          <x:Double x:Key="StateContainerWidth">113.59999999999991</x:Double>
                                          <x:Double x:Key="StateContainerHeight">124.80000000000001</x:Double>
                                        </scg:Dictionary>
                                      </sap:WorkflowViewStateService.ViewState>
                                      <State.Transitions>
                                        <Transition DisplayName="MoveOn" sap:VirtualizedContainerService.HintSize="448.8,509.6" sap2010:WorkflowViewState.IdRef="Transition_42">
                                          <sap:WorkflowViewStateService.ViewState>
                                            <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                              <av:PointCollection x:Key="ConnectorLocation">250,412.833333333333 220,412.833333333333 220,425.666666666666 190.333333333333,425.666666666666</av:PointCollection>
                                              <x:Int32 x:Key="SrcConnectionPointIndex">37</x:Int32>
                                              <x:Int32 x:Key="DestConnectionPointIndex">36</x:Int32>
                                            </scg:Dictionary>
                                          </sap:WorkflowViewStateService.ViewState>
                                          <Transition.To>
                                            <x:Reference>__ReferenceID7</x:Reference>
                                          </Transition.To>
                                        </Transition>
                                      </State.Transitions>
                                    </State>
                                  </Transition.To>
                                  <Transition.Action>
                                    <Assign sap:VirtualizedContainerService.HintSize="262.4,60" sap2010:WorkflowViewState.IdRef="Assign_208">
                                      <Assign.To>
                                        <OutArgument x:TypeArguments="hm:JobEndedReason">[in_ProcessSetup.Job.EndedReason]</OutArgument>
                                      </Assign.To>
                                      <Assign.Value>
                                        <InArgument x:TypeArguments="hm:JobEndedReason">[JobEndedReason.ReachedMaxTransactionsToHandle]</InArgument>
                                      </Assign.Value>
                                    </Assign>
                                  </Transition.Action>
                                  <Transition.Condition>[in_ProcessSetup.job.EndedReason=JobEndedReason.None AndAlso in_int_maxTransactionToHandle&gt;0 andAlso int_handledTransactionsCounter=in_int_maxTransactionToHandle andAlso (in_int_MaxTransactionWithSysExcpInA_Row=0 orElse int_totalTransactionsWithSystemExceptionInA_Row&lt;in_int_MaxTransactionWithSysExcpInA_Row)]</Transition.Condition>
                                </Transition>
                                <Transition DisplayName="max system exceptions" sap:VirtualizedContainerService.HintSize="1145.6,838.4" sap2010:WorkflowViewState.IdRef="Transition_32">
                                  <sap:WorkflowViewStateService.ViewState>
                                    <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                      <av:PointCollection x:Key="ConnectorLocation">540,345.85 510,345.85 510,453.25 398,453.25</av:PointCollection>
                                      <x:Int32 x:Key="SrcConnectionPointIndex">41</x:Int32>
                                      <x:Int32 x:Key="DestConnectionPointIndex">56</x:Int32>
                                    </scg:Dictionary>
                                  </sap:WorkflowViewStateService.ViewState>
                                  <Transition.To>
                                    <x:Reference>__ReferenceID51</x:Reference>
                                  </Transition.To>
                                  <Transition.Action>
                                    <Sequence sap:VirtualizedContainerService.HintSize="375.2,439.2" sap2010:WorkflowViewState.IdRef="Sequence_177">
                                      <sap:WorkflowViewStateService.ViewState>
                                        <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                          <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                                        </scg:Dictionary>
                                      </sap:WorkflowViewStateService.ViewState>
                                      <ui:LogMessage DisplayName="Log Message" sap:VirtualizedContainerService.HintSize="333.6,92.8" sap2010:WorkflowViewState.IdRef="LogMessage_6" Level="Warn" Message="[&quot;already faced &quot;+in_int_MaxTransactionWithSysExcpInA_Row.ToString+&quot; transactions in a row with systemException.&quot;]" />
                                      <Assign sap:VirtualizedContainerService.HintSize="333.6,60" sap2010:WorkflowViewState.IdRef="Assign_209">
                                        <Assign.To>
                                          <OutArgument x:TypeArguments="hm:JobEndedReason">[in_ProcessSetup.Job.EndedReason]</OutArgument>
                                        </Assign.To>
                                        <Assign.Value>
                                          <InArgument x:TypeArguments="hm:JobEndedReason">[JobEndedReason.ReachedMaxSystemExceptions]</InArgument>
                                        </Assign.Value>
                                      </Assign>
                                      <ui:InvokeWorkflowFile ArgumentsVariable="{x:Null}" ContinueOnError="{x:Null}" DisplayName="Invoke Turn Down Current User_Machine workflow" sap:VirtualizedContainerService.HintSize="333.6,113.6" sap2010:WorkflowViewState.IdRef="InvokeWorkflowFile_51" LogEntry="No" LogExit="No" UnSafe="False" WorkflowFileName="TurnUpOrDownCurrentUser_Machine.xaml">
                                        <ui:InvokeWorkflowFile.Arguments>
                                          <InOutArgument x:TypeArguments="hm:ProcessSetup" x:Key="io_ProcessSetup">[in_ProcessSetup]</InOutArgument>
                                          <InArgument x:TypeArguments="x:Boolean" x:Key="in_boo_TurnDown">True</InArgument>
                                          <InArgument x:TypeArguments="x:Int32" x:Key="in_int_Minutes">0</InArgument>
                                        </ui:InvokeWorkflowFile.Arguments>
                                      </ui:InvokeWorkflowFile>
                                    </Sequence>
                                  </Transition.Action>
                                  <Transition.Condition>[in_ProcessSetup.job.EndedReason=JobEndedReason.None AndAlso in_int_MaxTransactionWithSysExcpInA_Row&gt;0 AndAlso int_totalTransactionsWithSystemExceptionInA_Row=in_int_MaxTransactionWithSysExcpInA_Row]</Transition.Condition>
                                </Transition>
                                <Transition DisplayName="Need to stop job" sap2010:WorkflowViewState.IdRef="Transition_45">
                                  <sap:WorkflowViewStateService.ViewState>
                                    <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                      <av:PointCollection x:Key="ConnectorLocation">585,446.2 585,485.45 398,485.45</av:PointCollection>
                                      <x:Int32 x:Key="SrcConnectionPointIndex">11</x:Int32>
                                      <x:Int32 x:Key="DestConnectionPointIndex">72</x:Int32>
                                    </scg:Dictionary>
                                  </sap:WorkflowViewStateService.ViewState>
                                  <Transition.To>
                                    <x:Reference>__ReferenceID51</x:Reference>
                                  </Transition.To>
                                  <Transition.Condition>[in_ProcessSetup.job.EndedReason&lt;&gt;JobEndedReason.None]</Transition.Condition>
                                </Transition>
                              </State.Transitions>
                              <State.Variables>
                                <Variable x:TypeArguments="x:Boolean" sap2010:Annotation.AnnotationText="This variable is a part of the template. you should not touch it at all." Default="False" Name="boo_TransactionCompleted" />
                              </State.Variables>
                            </State>
                          </Transition.To>
                        </Transition>
                        <Transition DisplayName="EndProcess" sap:VirtualizedContainerService.HintSize="475.2,509.6" sap2010:WorkflowViewState.IdRef="Transition_16">
                          <sap:WorkflowViewStateService.ViewState>
                            <scg:Dictionary x:TypeArguments="x:String, x:Object">
                              <av:PointCollection x:Key="ConnectorLocation">984.8,455.333333333333 984.8,523.5 375.8,523.5 375.8,493.5</av:PointCollection>
                              <x:Int32 x:Key="SrcConnectionPointIndex">43</x:Int32>
                              <x:Int32 x:Key="DestConnectionPointIndex">67</x:Int32>
                            </scg:Dictionary>
                          </sap:WorkflowViewStateService.ViewState>
                          <Transition.To>
                            <x:Reference>__ReferenceID51</x:Reference>
                          </Transition.To>
                          <Transition.Condition>
                            <mva:VisualBasicValue x:TypeArguments="x:Boolean" ExpressionText="tran_currentTranItem Is Nothing" sap2010:WorkflowViewState.IdRef="VisualBasicValue`1_3" />
                          </Transition.Condition>
                        </Transition>
                      </State.Transitions>
                    </State>
                  </Transition.To>
                </Transition>
                <Transition DisplayName="Exception" sap:VirtualizedContainerService.HintSize="448.8,512.8" sap2010:WorkflowViewState.IdRef="Transition_36">
                  <sap:WorkflowViewStateService.ViewState>
                    <scg:Dictionary x:TypeArguments="x:String, x:Object">
                      <av:PointCollection x:Key="ConnectorLocation">923.6,51.76 1109.6,51.76 1109.6,567.6 286.8,567.6 286.8,494.1</av:PointCollection>
                      <x:Int32 x:Key="SrcConnectionPointIndex">32</x:Int32>
                      <x:Int32 x:Key="DestConnectionPointIndex">19</x:Int32>
                    </scg:Dictionary>
                  </sap:WorkflowViewStateService.ViewState>
                  <Transition.To>
                    <x:Reference>__ReferenceID51</x:Reference>
                  </Transition.To>
                  <Transition.Action>
                    <ui:InvokeWorkflowFile ArgumentsVariable="{x:Null}" ContinueOnError="{x:Null}" DisplayName="Invoke Turn Down Current User_Machine workflow" sap:VirtualizedContainerService.HintSize="333.6,113.6" sap2010:WorkflowViewState.IdRef="InvokeWorkflowFile_50" LogEntry="No" LogExit="No" UnSafe="False" WorkflowFileName="TurnUpOrDownCurrentUser_Machine.xaml">
                      <ui:InvokeWorkflowFile.Arguments>
                        <InOutArgument x:TypeArguments="hm:ProcessSetup" x:Key="io_ProcessSetup">[in_ProcessSetup]</InOutArgument>
                        <InArgument x:TypeArguments="x:Boolean" x:Key="in_boo_TurnDown">True</InArgument>
                        <InArgument x:TypeArguments="x:Int32" x:Key="in_int_Minutes">0</InArgument>
                      </ui:InvokeWorkflowFile.Arguments>
                    </ui:InvokeWorkflowFile>
                  </Transition.Action>
                  <Transition.Condition>
                    <mva:VisualBasicValue x:TypeArguments="x:Boolean" ExpressionText="out_list_jobSystemExceptions.Count&gt;0" sap2010:WorkflowViewState.IdRef="VisualBasicValue`1_1" />
                  </Transition.Condition>
                </Transition>
              </State.Transitions>
            </State>
          </Transition.To>
        </Transition>
        <Transition DisplayName="CurrentUserMachineDown" sap:VirtualizedContainerService.HintSize="592,800.8" sap2010:WorkflowViewState.IdRef="Transition_43">
          <sap:WorkflowViewStateService.ViewState>
            <scg:Dictionary x:TypeArguments="x:String, x:Object">
              <av:PointCollection x:Key="ConnectorLocation">226.4,128.8 114.65,128.8 114.65,329.333333333333</av:PointCollection>
              <x:Int32 x:Key="SrcConnectionPointIndex">45</x:Int32>
              <x:Int32 x:Key="DestConnectionPointIndex">34</x:Int32>
            </scg:Dictionary>
          </sap:WorkflowViewStateService.ViewState>
          <Transition.To>
            <x:Reference>__ReferenceID7</x:Reference>
          </Transition.To>
          <Transition.Action>
            <Sequence sap:VirtualizedContainerService.HintSize="394.4,401.6" sap2010:WorkflowViewState.IdRef="Sequence_186">
              <sap:WorkflowViewStateService.ViewState>
                <scg:Dictionary x:TypeArguments="x:String, x:Object">
                  <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                </scg:Dictionary>
              </sap:WorkflowViewStateService.ViewState>
              <ui:LogMessage DisplayName="Log Message" sap:VirtualizedContainerService.HintSize="352.8,92.8" sap2010:WorkflowViewState.IdRef="LogMessage_40" Level="Warn" Message="[&quot;Current machine and user is down right now!&quot;]" />
              <ui:InvokeWorkflowFile ArgumentsVariable="{x:Null}" ContinueOnError="{x:Null}" DisplayName="Invoke CurrentUserAndMachineIsDownRightNow workflow" sap:VirtualizedContainerService.HintSize="352.8,113.6" sap2010:WorkflowViewState.IdRef="InvokeWorkflowFile_69" LogEntry="No" LogExit="No" UnSafe="False" WorkflowFileName="CurrentUserAndMachineIsDownRightNow.xaml">
                <ui:InvokeWorkflowFile.Arguments>
                  <InOutArgument x:TypeArguments="hm:ProcessSetup" x:Key="io_ProcessSetup">[in_ProcessSetup]</InOutArgument>
                </ui:InvokeWorkflowFile.Arguments>
              </ui:InvokeWorkflowFile>
              <AddToCollection x:TypeArguments="s:Exception" Collection="[out_list_JobSystemExceptions]" DisplayName="Add To Collection" sap:VirtualizedContainerService.HintSize="352.8,22.4" sap2010:WorkflowViewState.IdRef="AddToCollection`1_44" Item="[new system.Exception(&quot;Current machine and user is down right now!&quot;)]" />
            </Sequence>
          </Transition.Action>
          <Transition.Condition>[in_ProcessSetup.Job.EndedReason=JobEndedReason.CurrentUserAndMachineDownRightNow]</Transition.Condition>
        </Transition>
      </State.Transitions>
    </State>
    <x:Reference>__ReferenceID7</x:Reference>
    <x:Reference>__ReferenceID50</x:Reference>
    <x:Reference>__ReferenceID49</x:Reference>
    <x:Reference>__ReferenceID52</x:Reference>
    <x:Reference>__ReferenceID51</x:Reference>
    <StateMachine.Variables>
      <Variable x:TypeArguments="x:Boolean" Name="boo_shouldStop" />
      <Variable x:TypeArguments="ui:QueueItem" Name="tran_currentTranItem" />
      <Variable x:TypeArguments="scg:List(s:Exception)" Default="[new List(Of system.Exception)]" Name="list_transactionSystemExceptions" />
      <Variable x:TypeArguments="scg:List(ui:BusinessRuleException)" Default="[new List(Of BusinessRuleException)]" Name="list_transactionBusinessExceptions" />
      <Variable x:TypeArguments="x:String" Name="str_takenScreenshotFullPath" />
      <Variable x:TypeArguments="x:String" Name="str_takenScreenshotNameOnly" />
      <Variable x:TypeArguments="x:Int32" Default="0" Name="int_totalTransactionsWithSystemExceptionInA_Row" />
      <Variable x:TypeArguments="x:Int32" Default="0" Name="int_handledTransactionsCounter" />
      <Variable x:TypeArguments="scg:Dictionary(x:String, x:Object)" Default="[New Dictionary(Of String, Object)]" Name="dic_str_obj_AllTransactionData" />
      <Variable x:TypeArguments="x:TimeSpan" Name="timespan_NextOK_Time" />
      <Variable x:TypeArguments="x:Boolean" sap2010:Annotation.AnnotationText="raise that flag in case you want to send the item to action center" Name="boo_SendTransactionToActionCenter" />
      <Variable x:TypeArguments="x:Boolean" sap2010:Annotation.AnnotationText="Raise that flag in case you postponed the item" Name="boo_TransactionPostponed" />
      <Variable x:TypeArguments="x:Boolean" Default="False" Name="boo_StopJobBecauseOfUrgent" />
    </StateMachine.Variables>
  </StateMachine>
</Activity>